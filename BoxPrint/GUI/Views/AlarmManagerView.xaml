<Page 
      x:Class="BoxPrint.GUI.Views.AlarmManagerView"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
      xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
      xmlns:local="clr-namespace:BoxPrint.GUI.Views"
      xmlns:uidictionary="clr-namespace:BoxPrint.GUI.UIControls"
      xmlns:ex="clr-namespace:TranslationByMarkupExtension"
      mc:Ignorable="d" 
      d:DesignHeight="820" d:DesignWidth="1160" 
      Title="Page1" Loaded="Page_Loaded">

    <Page.Resources>
        <ResourceDictionary>
            <Style TargetType="{x:Type ToolTip}" BasedOn="{StaticResource SK_ToolTipStyle}"/>

            <!--버튼-->

            <!--돋보기 버튼-->
            <Style x:Key="buttonStyle_MagnifyingGlass" TargetType="{x:Type local:ButtonControl}">
                <Setter Property="Tag" Value="{Binding Path=(local:ButtonControl.TagName), RelativeSource={RelativeSource self}}"/>
                <EventSetter Event="Click" Handler="ButtonControl_Click"/>
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="{x:Type local:ButtonControl}">
                            <Border x:Name="buttonBorder" Cursor="Hand" Background="Transparent" >
                                <Path x:Name="pathMagnifyingGlass" Margin="5" IsHitTestVisible="False" HorizontalAlignment="Stretch" Stretch="Uniform" Fill="{StaticResource SK_Red}" 
                                Data="M500.3 443.7l-119.7-119.7c27.22-40.41 40.65-90.9 33.46-144.7C401.8 87.79 326.8 13.32 235.2 1.723C99.01-15.51-15.51 99.01 1.724 235.2c11.6 91.64 86.08 166.7 177.6 178.9c53.8 7.189 104.3-6.236 144.7-33.46l119.7 119.7c15.62 15.62 40.95 15.62 56.57 0C515.9 484.7 515.9 459.3 500.3 443.7zM79.1 208c0-70.58 57.42-128 128-128s128 57.42 128 128c0 70.58-57.42 128-128 128S79.1 278.6 79.1 208z"/>
                            </Border>

                            <ControlTemplate.Triggers>
                                <Trigger Property="IsMouseOver" Value="true">
                                    <Trigger.EnterActions>
                                        <BeginStoryboard>
                                            <Storyboard >
                                                <ThicknessAnimation Duration="0:0:0.2" Storyboard.TargetName="pathMagnifyingGlass" Storyboard.TargetProperty="Margin" From="5" To="0"/>
                                            </Storyboard>
                                        </BeginStoryboard>
                                    </Trigger.EnterActions>
                                    
                                    <Trigger.ExitActions>
                                        <BeginStoryboard>
                                            <Storyboard >
                                                <ThicknessAnimation Duration="0:0:0.2" Storyboard.TargetName="pathMagnifyingGlass" Storyboard.TargetProperty="Margin" From="0" To="5"/>
                                            </Storyboard>
                                        </BeginStoryboard>
                                    </Trigger.ExitActions>
                                </Trigger>

                                <Trigger Property="IsPressed" Value="true">
                                    <Setter Property="Border.BorderThickness" TargetName="buttonBorder" Value="5"/>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>

            <!--초기화 버튼-->
            <Style x:Key="buttonStyle_Initialization" TargetType="{x:Type local:ButtonControl}">
                <Setter Property="Tag" Value="{Binding Path=(local:ButtonControl.TagName), RelativeSource={RelativeSource self}}"/>
                <EventSetter Event="Click" Handler="ButtonControl_Click"/>
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="{x:Type local:ButtonControl}">
                            <Border x:Name="buttonBorder" Cursor="Hand" Background="Transparent" >
                                <Path x:Name="pathArrow" Margin="5" IsHitTestVisible="False" HorizontalAlignment="Stretch" Stretch="Uniform" Fill="#FFBFBFBF" 
                                Data="M480 256c0 123.4-100.5 223.9-223.9 223.9c-48.84 0-95.17-15.58-134.2-44.86c-14.12-10.59-16.97-30.66-6.375-44.81c10.59-14.12 30.62-16.94 44.81-6.375c27.84 20.91 61 31.94 95.88 31.94C344.3 415.8 416 344.1 416 256s-71.69-159.8-159.8-159.8c-37.46 0-73.09 13.49-101.3 36.64l45.12 45.14c17.01 17.02 4.955 46.1-19.1 46.1H35.17C24.58 224.1 16 215.5 16 204.9V59.04c0-24.04 29.07-36.08 46.07-19.07l47.6 47.63C149.9 52.71 201.5 32.11 256.1 32.11C379.5 32.11 480 132.6 480 256z" RenderTransformOrigin="0.5,0.5">
                                    <Path.RenderTransform>
                                        <RotateTransform Angle="0"/>
                                    </Path.RenderTransform>
                                </Path>
                            </Border>

                            <ControlTemplate.Triggers>
                                <Trigger Property="IsMouseOver" Value="true">
                                    <Setter TargetName="pathArrow" Property="Fill" Value="Black"/>
                                </Trigger>

                                <Trigger Property="IsPressed" Value="true">
                                    <Trigger.EnterActions>
                                        <BeginStoryboard>
                                            <Storyboard >
                                                <DoubleAnimation Storyboard.TargetName="pathArrow" Storyboard.TargetProperty="(RenderTransform).(RotateTransform.Angle)" From="0" To="-360" Duration="0:0:0.5"/>
                                            </Storyboard>
                                        </BeginStoryboard>
                                    </Trigger.EnterActions>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>

            <!--원형 버튼-->
            <Style x:Key="TextButtonStyle" TargetType="{x:Type local:ButtonControl}">
                <Setter Property="Tag" Value="{Binding Path=(local:ButtonControl.TagName), RelativeSource={RelativeSource self}}"/>
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="{x:Type local:ButtonControl}">
                            <Border x:Name="buttonBorder" Cursor="Hand" Background="#FF939393" CornerRadius="100">
                                <Path x:Name="buttonPath" Margin="15" IsHitTestVisible="False" HorizontalAlignment="Stretch" Stretch="Uniform" Fill="White" 
                                    Data="{Binding Path=(local:ButtonControl.PathData), RelativeSource={RelativeSource TemplatedParent}}">
                                </Path>
                            </Border>
                            
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsMouseOver" Value="true">
                                    <Trigger.EnterActions>
                                        <BeginStoryboard>
                                            <Storyboard >
                                                <ThicknessAnimation Duration="0:0:0.2" Storyboard.TargetName="buttonPath" Storyboard.TargetProperty="Margin" From="15" To="10"/>
                                            </Storyboard>
                                        </BeginStoryboard>
                                    </Trigger.EnterActions>
                                    
                                    <Trigger.ExitActions>
                                        <BeginStoryboard>
                                            <Storyboard >
                                                <ThicknessAnimation Duration="0:0:0.2" Storyboard.TargetName="buttonPath" Storyboard.TargetProperty="Margin" From="10" To="15"/>
                                            </Storyboard>
                                        </BeginStoryboard>
                                    </Trigger.ExitActions>
                                </Trigger>
                                
                                <Trigger Property="IsPressed" Value="true">
                                    <Setter Property="Border.BorderThickness" TargetName="buttonBorder" Value="4"/>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>

            <!--220916 조숭진 s-->
            <!--xml 불러오기-->
            <Style x:Key="buttonStyle_Load" TargetType="{x:Type local:ButtonControl}">
                <Setter Property="Tag" Value="{Binding Path=(local:ButtonControl.TagName), RelativeSource={RelativeSource self}}"/>
                <EventSetter Event="Click" Handler="ButtonControl_Click"/>
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="{x:Type local:ButtonControl}">
                            <Border x:Name="buttonBorder" Cursor="Hand" Background="Transparent" >
                                <Path x:Name="pathMagnifyingGlass" IsHitTestVisible="False" HorizontalAlignment="Stretch" Stretch="Uniform" Fill="#FFBFBFBF" 
                                Data="
                    M         13.889349 21         C          13.556349  22.530001 12.529347 23.947001  11.559345 25       
                    L         20.424358 25         C          19.456356  23.952    18.436356 22.541     18.108355 21       
                    z         M         11.177001  2.9690175  L          11.884002 3.6760178 3.7079973  11.852022 3.0009971
                    11.145021 z         M          7.4799972  2.8810134  L         8.1869965 3.5880151  3.6199985 8.1550264
                    2.9129992 7.4480247 z          M          2          2         L         2          19        12.999348
                    19        18.999357 19         30         19         30        2z        M          1         0        
                    L         31        0          C          31.552002  0         32        0.44702148 32        1        
                    L         32        20         C          32         20.552979 31.552002 21         31        21       
                    L         20.17979  21         20.245712  21.181469  C         20.917463 22.900454  22.785048 24.591875
                    23.598362 25.198    23.943363  25.455999  24.084364  25.906    23.949364 26.315001  23.813364 26.724001
                    23.430363 27        22.999363  27         L          8.999342  27        C          8.5703411 27       
                    8.1893406 26.726    8.0523405  26.319     7.9153404  25.912001 8.0533409 25.464001  8.3953409 25.202999
                    9.2094669 24.583063 11.079845  22.868586  11.752615  21.164507 L         11.813042  21        1        
                    21        C         0.44799805 21         0          20.552979 0         20         L         0        
                    1         C         0          0.44702148 0.44799805 0         1         0          z" RenderTransformOrigin="0.5,0.5">
                                    <Path.RenderTransform>
                                        <RotateTransform Angle="0"/>
                                    </Path.RenderTransform>
                                </Path>
                            </Border>

                            <ControlTemplate.Triggers>
                                <Trigger Property="IsMouseOver" Value="true">
                                    <Setter TargetName="pathMagnifyingGlass" Property="Fill" Value="Black"/>
                                    <Trigger.EnterActions>
                                        <BeginStoryboard>
                                            <Storyboard >
                                                <ThicknessAnimation Duration="0:0:0.2" Storyboard.TargetName="pathMagnifyingGlass" Storyboard.TargetProperty="Margin" From="5" To="0"/>
                                            </Storyboard>
                                        </BeginStoryboard>
                                    </Trigger.EnterActions>
                                    
                                    <Trigger.ExitActions>
                                        <BeginStoryboard>
                                            <Storyboard >
                                                <ThicknessAnimation Duration="0:0:0.2" Storyboard.TargetName="pathMagnifyingGlass" Storyboard.TargetProperty="Margin" From="0" To="5"/>
                                            </Storyboard>
                                        </BeginStoryboard>
                                    </Trigger.ExitActions>
                                </Trigger>

                                <Trigger Property="IsPressed" Value="true">
                                    <Setter Property="Border.BorderThickness" TargetName="buttonBorder" Value="5"/>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>
            <!--220916 조숭진 e-->

        </ResourceDictionary>
    </Page.Resources>

    <Grid Background="White">
        <Grid.RowDefinitions>
            <RowDefinition Height="30"/>
            <RowDefinition Height="60"/>
            <RowDefinition Height="50"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!--머리글-->
        <Grid Grid.Row="0">
            <DockPanel>
                <TextBlock Text="{ex:Translate 기준 정보 관리 > SCS 알람 관리}" FontFamily="{StaticResource BoldFont}" Margin="10,0,0,0" FontSize="{Binding UIFontSize_Medium}" HorizontalAlignment="Left" Foreground="{StaticResource SK_LBlack}"/>
            </DockPanel>
        </Grid>
            
        <!--검색 기능-->
        <Grid Grid.Row="1" Background="#FFF2F2F2">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="auto"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="auto"/>
            </Grid.ColumnDefinitions>

            <DockPanel HorizontalAlignment="Center" VerticalAlignment="Center" Margin="50,0,30,0">
                <TextBlock Text="{ex:Translate Module Type}" IsHitTestVisible="False" VerticalAlignment="Center" Margin="0,0,10,0" FontFamily="{StaticResource BoldFont}" FontSize="{Binding UIFontSize_Large}"/>

                <ComboBox x:Name="comboBoxModuleType" Height="30" Width="150" Style="{StaticResource SK_ComboBox_style}" ToolTip="{ex:Translate 검색 아이템}" Background="White" BorderBrush="Black" FontSize="{Binding UIFontSize_Medium}">
                    <ComboBoxItem Style="{StaticResource comboBoxItem_style}" Content="test1"/>
                    <ComboBoxItem Style="{StaticResource comboBoxItem_style}" Content="test2"/>
                    <ComboBoxItem Style="{StaticResource comboBoxItem_style}" Content="test3"/>
                    <ComboBoxItem Style="{StaticResource comboBoxItem_style}" Content="test4"/>
                </ComboBox>
            </DockPanel>
            
            <DockPanel Grid.Column="2" HorizontalAlignment="Right" Margin="0,0,10,0">
                <local:ButtonControl Style="{StaticResource buttonStyle_MagnifyingGlass}" TagName="Search" Width="35" Height="35" ToolTip="{ex:Translate 검색}" Margin="0,0,30,0" Click="ButtonControl_Click" HorizontalAlignment="Left"/>
                <local:ButtonControl Style="{StaticResource buttonStyle_Initialization}"  TagName="Search_Init" Width="35" Height="35" Margin="0,0,30,0" ToolTip="{ex:Translate 설정 초기화}" Click="ButtonControl_Click"/>
                <local:ButtonControl Style="{StaticResource buttonStyle_Load}" TagName="XML_Load" Width="35" Height="35" ToolTip="{ex:Translate XML 불러오기}" Click="ButtonControl_Click"/>
                <!--220916 조숭진-->
            </DockPanel>

        </Grid>

        <!--버튼-->
        <Grid Grid.Row="2">
            <DockPanel IsHitTestVisible="False" VerticalAlignment="Bottom" Margin="10,0,0,10" HorizontalAlignment="Left">
                <Border Background="{StaticResource SK_Orange}" Width="8" CornerRadius="4"/>
                <TextBlock Text="{ex:Translate 에러코드}" HorizontalAlignment="Left" FontFamily="{StaticResource BoldFont}" TextAlignment="Center" Foreground="Black" Margin="5,0,0,0" VerticalAlignment="Center" FontSize="{Binding UIFontSize_Large}"/>
            </DockPanel>

            <DockPanel HorizontalAlignment="Right">
                <Border Height="20" VerticalAlignment="Top" Margin="0,5,0,0">
                    <Path x:Name="LockIcon" Grid.Column="1" Stretch="Uniform" Fill="#c5c7cc" Data="M8 1a2 2 0 0 1 2 2v4H6V3a2 2 0 0 1 2-2zm3 6V3a3 3 0 0 0-6 0v4a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2z" />
                </Border>
                
                <DockPanel x:Name="ModifyAuthorityDockPanel" HorizontalAlignment="Right">
                    <uidictionary:SK_ButtonControl Style="{StaticResource SK_EllipseButtonStyle}" TagName="Add" Height="35" Width="35" Margin="15,0,10,5" ImageMargin="9" ToolTip="{ex:Translate Add}" Click="ButtonControl_Click"
                     PathData="M432 256c0 17.69-14.33 32.01-32 32.01H256v144c0 17.69-14.33 31.99-32 31.99s-32-14.3-32-31.99v-144H48c-17.67 0-32-14.32-32-32.01s14.33-31.99 32-31.99H192v-144c0-17.69 14.33-32.01 32-32.01s32 14.32 32 32.01v144h144C417.7 224 432 238.3 432 256z" VerticalAlignment="Bottom" Background="#FF939393"/>

                    <uidictionary:SK_ButtonControl Style="{StaticResource SK_EllipseButtonStyle}" TagName="Modify" Height="35" Width="35" Margin="15,0,10,5" ImageMargin="9" ToolTip="{ex:Translate Edit}" Click="ButtonControl_Click"
                     PathData="M362.7 19.32C387.7-5.678 428.3-5.678 453.3 19.32L492.7 58.75C517.7 83.74 517.7 124.3 492.7 149.3L444.3 197.7L314.3 67.72L362.7 19.32zM421.7 220.3L188.5 453.4C178.1 463.8 165.2 471.5 151.1 475.6L30.77 511C22.35 513.5 13.24 511.2 7.03 504.1C.8198 498.8-1.502 489.7 .976 481.2L36.37 360.9C40.53 346.8 48.16 333.9 58.57 323.5L291.7 90.34L421.7 220.3z" VerticalAlignment="Bottom" Background="#FF939393"/>

                    <uidictionary:SK_ButtonControl Style="{StaticResource SK_EllipseButtonStyle}" TagName="Delete" Height="35" Width="35" Margin="15,0,10,5" ImageMargin="9" ToolTip="{ex:Translate Delete}" Click="ButtonControl_Click"
                     PathData="M400 288h-352c-17.69 0-32-14.32-32-32.01s14.31-31.99 32-31.99h352c17.69 0 32 14.3 32 31.99S417.7 288 400 288z" VerticalAlignment="Bottom" Background="#FF939393"/>

                    <uidictionary:SK_ButtonControl Style="{StaticResource SK_EllipseButtonStyle}" TagName="Export" Height="35" Width="35" Margin="15,0,10,5" ImageMargin="9" ToolTip="{ex:Translate Export}" Click="ButtonControl_Click"
                     PathData="M384 128h-128V0L384 128zM256 160H384v304c0 26.51-21.49 48-48 48h-288C21.49 512 0 490.5 0 464v-416C0 21.49 21.49 0 48 0H224l.0039 128C224 145.7 238.3 160 256 160zM255 295L216 334.1V232c0-13.25-10.75-24-24-24S168 218.8 168 232v102.1L128.1 295C124.3 290.3 118.2 288 112 288S99.72 290.3 95.03 295c-9.375 9.375-9.375 24.56 0 33.94l80 80c9.375 9.375 24.56 9.375 33.94 0l80-80c9.375-9.375 9.375-24.56 0-33.94S264.4 285.7 255 295z" VerticalAlignment="Bottom" Background="#FF939393"/>
                </DockPanel>
            </DockPanel>
        </Grid>

        <!--데이터그리드-->
        <Grid Grid.Row="3">
            <Grid.RowDefinitions>
                <RowDefinition Height="8*"/>
                <RowDefinition Height="50"/>
                <RowDefinition Height="100"/>
            </Grid.RowDefinitions>

            <DataGrid x:Name="dataGridAlarmList" Grid.Row="0" Style="{StaticResource SK_DataGridStyle}" SelectionChanged="DataGrid_SelectionChanged" MouseDoubleClick="DataGridCell_DoubleClick" >
                <DataGrid.Columns>
                    <DataGridTextColumn Header="{ex:Translate NumberOrder}" Width="1*"  Binding="{Binding ListNo}"/>
                    <DataGridTextColumn Header="{ex:Translate Module Type}" Width="2*"  Binding="{Binding ModuleType}"/>
                    <DataGridTextColumn Header="{ex:Translate 에러코드}"    Width="2*"  Binding="{Binding AlarmID}"/>
                    <DataGridTextColumn Header="{ex:Translate 에러이름}"    Width="4*"  Binding="{Binding AlarmName}"/>
                    <DataGridTextColumn Header="{ex:Translate Heavy Alarm}" Width="2*"  Binding="{Binding AlarmLevel}"/>
                    <DataGridTextColumn Header="{ex:Translate 에러메시지}"  Width="6*"  Binding="{Binding Description}" Visibility="Visible"/>
                    <DataGridTextColumn Header="{ex:Translate 에러메시지}"  Width="6*"  Binding="{Binding Description_ENG}" Visibility="Hidden"/>
                    <DataGridTextColumn Header="{ex:Translate 에러메시지}"  Width="6*"  Binding="{Binding Description_CHN}" Visibility="Hidden"/>
                    <DataGridTextColumn Header="{ex:Translate 에러메시지}"  Width="6*"  Binding="{Binding Description_HUN}" Visibility="Hidden"/>
                </DataGrid.Columns>
            </DataGrid>

            <DockPanel IsHitTestVisible="False" VerticalAlignment="Bottom" Margin="10,0,0,10" HorizontalAlignment="Left" Grid.Row="1">
                <Border Background="{StaticResource SK_Orange}" Width="8" CornerRadius="4"/>
                <TextBlock Text="{ex:Translate 조치사항}" HorizontalAlignment="Left" FontFamily="{StaticResource BoldFont}" TextAlignment="Center" Foreground="Black" Margin="5,0,0,0" VerticalAlignment="Center" FontSize="{Binding UIFontSize_Large}"/>
            </DockPanel>

            <Border BorderBrush="{StaticResource SK_LBlack}" BorderThickness="1" Grid.Row="2">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="4*"/>
                        <RowDefinition Height="6*"/>
                    </Grid.RowDefinitions>
                    <TextBlock x:Name="textblockSelectedItemName" IsHitTestVisible="False" VerticalAlignment="Center" Margin="10,0,0,0" FontFamily="{StaticResource BoldFont}" FontSize="{Binding UIFontSize_Large}" TextDecorations="{x:Null}" />
                    <TextBlock x:Name="textblockSolution" IsHitTestVisible="False" VerticalAlignment="Top" Margin="10,0,0,0" FontFamily="{StaticResource RegularFont}" FontSize="{Binding UIFontSize_Medium}" Grid.Row="1" />
                </Grid>
            </Border>
        </Grid>

    </Grid>
</Page>
