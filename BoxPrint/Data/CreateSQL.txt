--------------------------------------------------------
--  DDL for Procedure USP_STC_ALARM_INFO_SET
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "USP_STC_ALARM_INFO_SET" 
(
    P_ALARM_ID              IN NUMBER,
    P_ALARM_NM              IN NVARCHAR2,
    P_LIGHTALARM_GB         IN CHAR,
    P_MODULE_NM             IN NVARCHAR2,
    P_DESC_NM_KOR           IN NVARCHAR2,
    P_DESC_NM_ENG           IN NVARCHAR2,
    P_DESC_NM_CHN           IN NVARCHAR2,
    P_DESC_NM_HUN           IN NVARCHAR2,
    P_SOLUTION_NM_KOR       IN NVARCHAR2,
    P_SOLUTION_NM_ENG       IN NVARCHAR2,
    P_SOLUTION_NM_CHN       IN NVARCHAR2,
    P_SOLUTION_NM_HUN       IN NVARCHAR2,
    P_DEL                   IN CHAR,
    P_TARGET                IN NVARCHAR2,
    R_RESULT                OUT NVARCHAR2,
    R_TEMP                  OUT NVARCHAR2
)
IS
    V_CNT  NUMBER := 0;
BEGIN
    IF P_TARGET='ID' THEN
        SELECT COUNT(ALARM_ID)
            INTO V_CNT
            FROM TB_ALARM_INFO WHERE ALARM_ID=P_ALARM_ID;
    ELSIF P_TARGET='NAME' THEN
        SELECT COUNT(ALARM_NM)
            INTO V_CNT
            FROM TB_ALARM_INFO WHERE ALARM_NM=P_ALARM_NM;
    ELSIF P_TARGET='LIGHT' THEN
        SELECT COUNT(LIGHTALARM_GB)
            INTO V_CNT
            FROM TB_ALARM_INFO WHERE LIGHTALARM_GB=P_LIGHTALARM_GB;    
    ELSIF P_TARGET='TYPE' THEN
        SELECT COUNT(MODULE_NM)
            INTO V_CNT
            FROM TB_ALARM_INFO WHERE MODULE_NM=P_MODULE_NM;
    ELSIF P_TARGET='DESC' THEN
        SELECT COUNT(DESC_NM_KOR)
            INTO V_CNT
            FROM TB_ALARM_INFO WHERE DESC_NM_KOR=P_DESC_NM_KOR;
    ELSE
        SELECT COUNT(SOLUTION_NM_KOR)
            INTO V_CNT
            FROM TB_ALARM_INFO WHERE SOLUTION_NM_KOR=P_SOLUTION_NM_KOR;        
    END IF;

    IF V_CNT=0 THEN
        IF P_DEL='0' THEN
            R_TEMP := 'ALARM_INSERT';
            R_RESULT := P_ALARM_ID;

            INSERT INTO TB_ALARM_INFO(ALARM_ID, ALARM_NM, LIGHTALARM_GB, MODULE_NM, DESC_NM_KOR, 
                SOLUTION_NM_KOR, DESC_NM_ENG, SOLUTION_NM_ENG, DESC_NM_CHN, SOLUTION_NM_CHN, DESC_NM_HUN, SOLUTION_NM_HUN) 
                VALUES (P_ALARM_ID, P_ALARM_NM, P_LIGHTALARM_GB, P_MODULE_NM, P_DESC_NM_KOR, P_SOLUTION_NM_KOR, 
                    P_DESC_NM_ENG, P_SOLUTION_NM_ENG, P_DESC_NM_CHN, P_SOLUTION_NM_CHN, P_DESC_NM_HUN, P_SOLUTION_NM_HUN);
        END IF;
    ELSE
        IF P_DEL='1' THEN
            R_TEMP := 'ALARM_DELETE';
            R_RESULT := P_ALARM_ID;
            DELETE FROM TB_ALARM_INFO WHERE ALARM_ID=P_ALARM_ID; 
        ELSE

            R_TEMP := 'ALARM_UPDATE';

            IF P_TARGET='ID' THEN 
                R_RESULT := P_ALARM_ID;
                UPDATE TB_ALARM_INFO SET ALARM_NM=P_ALARM_NM, LIGHTALARM_GB=P_LIGHTALARM_GB, MODULE_NM=P_MODULE_NM, 
                    DESC_NM_KOR=P_DESC_NM_KOR, SOLUTION_NM_KOR=P_SOLUTION_NM_KOR, DESC_NM_ENG=P_DESC_NM_ENG, SOLUTION_NM_ENG=P_SOLUTION_NM_ENG,
                    DESC_NM_CHN=P_DESC_NM_CHN, SOLUTION_NM_CHN=P_SOLUTION_NM_CHN, DESC_NM_HUN=P_DESC_NM_HUN, SOLUTION_NM_HUN=P_SOLUTION_NM_HUN
                    WHERE ALARM_ID=P_ALARM_ID;
            ELSIF P_TARGET='NAME' THEN
                R_RESULT := P_ALARM_NM;
                UPDATE TB_ALARM_INFO SET ALARM_ID=P_ALARM_ID, LIGHTALARM_GB=P_LIGHTALARM_GB, MODULE_NM=P_MODULE_NM, 
                    DESC_NM_KOR=P_DESC_NM_KOR, SOLUTION_NM_KOR=P_SOLUTION_NM_KOR, DESC_NM_ENG=P_DESC_NM_ENG, SOLUTION_NM_ENG=P_SOLUTION_NM_ENG,
                    DESC_NM_CHN=P_DESC_NM_CHN, SOLUTION_NM_CHN=P_SOLUTION_NM_CHN, DESC_NM_HUN=P_DESC_NM_HUN, SOLUTION_NM_HUN=P_SOLUTION_NM_HUN
                    WHERE ALARM_NM=P_ALARM_NM;            
            ELSIF P_TARGET='LIGHT' THEN
                R_RESULT := P_LIGHTALARM_GB;
                UPDATE TB_ALARM_INFO SET ALARM_ID=P_ALARM_ID, ALARM_NM=P_ALARM_NM, MODULE_NM=P_MODULE_NM, 
                    DESC_NM_KOR=P_DESC_NM_KOR, SOLUTION_NM_KOR=P_SOLUTION_NM_KOR, DESC_NM_ENG=P_DESC_NM_ENG, SOLUTION_NM_ENG=P_SOLUTION_NM_ENG,
                    DESC_NM_CHN=P_DESC_NM_CHN, SOLUTION_NM_CHN=P_SOLUTION_NM_CHN, DESC_NM_HUN=P_DESC_NM_HUN, SOLUTION_NM_HUN=P_SOLUTION_NM_HUN
                    WHERE LIGHTALARM_GB=P_LIGHTALARM_GB;                 
            ELSIF P_TARGET='TYPE' THEN
                R_RESULT := P_MODULE_NM;
                UPDATE TB_ALARM_INFO SET ALARM_ID=P_ALARM_ID, ALARM_NM=P_ALARM_NM, LIGHTALARM_GB=P_LIGHTALARM_GB, 
                    DESC_NM_KOR=P_DESC_NM_KOR, SOLUTION_NM_KOR=P_SOLUTION_NM_KOR, DESC_NM_ENG=P_DESC_NM_ENG, SOLUTION_NM_ENG=P_SOLUTION_NM_ENG,
                    DESC_NM_CHN=P_DESC_NM_CHN, SOLUTION_NM_CHN=P_SOLUTION_NM_CHN, DESC_NM_HUN=P_DESC_NM_HUN, SOLUTION_NM_HUN=P_SOLUTION_NM_HUN
                    WHERE MODULE_NM=P_MODULE_NM;               
            ELSIF P_TARGET='DESC' THEN
                R_RESULT := P_DESC_NM_KOR;
                UPDATE TB_ALARM_INFO SET ALARM_ID=P_ALARM_ID, ALARM_NM=P_ALARM_NM, LIGHTALARM_GB=P_LIGHTALARM_GB, MODULE_NM=P_MODULE_NM, 
                    SOLUTION_NM_KOR=P_SOLUTION_NM_KOR, DESC_NM_ENG=P_DESC_NM_ENG, SOLUTION_NM_ENG=P_SOLUTION_NM_ENG,
                    DESC_NM_CHN=P_DESC_NM_CHN, SOLUTION_NM_CHN=P_SOLUTION_NM_CHN, DESC_NM_HUN=P_DESC_NM_HUN, SOLUTION_NM_HUN=P_SOLUTION_NM_HUN
                    WHERE DESC_NM_KOR=P_DESC_NM_KOR;             
            ELSE
                R_RESULT := P_SOLUTION_NM_KOR;
                UPDATE TB_ALARM_INFO SET ALARM_ID=P_ALARM_ID, ALARM_NM=P_ALARM_NM, LIGHTALARM_GB=P_LIGHTALARM_GB, MODULE_NM=P_MODULE_NM, 
                    DESC_NM_KOR=P_DESC_NM_KOR, DESC_NM_ENG=P_DESC_NM_ENG, SOLUTION_NM_ENG=P_SOLUTION_NM_ENG,
                    DESC_NM_CHN=P_DESC_NM_CHN, SOLUTION_NM_CHN=P_SOLUTION_NM_CHN, DESC_NM_HUN=P_DESC_NM_HUN, SOLUTION_NM_HUN=P_SOLUTION_NM_HUN
                    WHERE SOLUTION_NM_KOR=P_SOLUTION_NM_KOR;                
            END IF;
        END IF;
    END IF;

    COMMIT;

    EXCEPTION
        WHEN OTHERS THEN
        BEGIN
            R_RESULT := 'WRONG_ALARM';  
            R_TEMP := 'EXCEPTION';
            ROLLBACK;
        END; 
END USP_STC_ALARM_INFO_SET;


/
--------------------------------------------------------
--  DDL for Procedure USP_STC_CARRIER_INFO_SET
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "USP_STC_CARRIER_INFO_SET" 
(
    P_SCS_CD            IN NVARCHAR2,
    P_CARRIER_ID        IN NVARCHAR2,
    P_CARRIER_LOC       IN NVARCHAR2,
    P_PRODUCT_STAT      IN CHAR,
    P_POLARITY_STAT     IN CHAR,
    P_WINDERDIR_STAT    IN CHAR,
    P_PRODUCT_CNT       IN NUMBER,
    P_FINALLOC_NO       IN NVARCHAR2,
    P_INNERTYPE_GB      IN NUMBER,
	P_PALLET_GB         IN NUMBER, 
	P_TRAYSTACK_CNT     IN NUMBER, 
	P_TRAYTYPE_STAT     IN CHAR, 
	P_UNCOATED_STAT     IN CHAR, 
	P_CORETYPE_STAT     IN CHAR, 
	P_VALIDATION_ID     IN NVARCHAR2, 
	P_PRODUCTEND_STAT   IN CHAR, 
	P_CARRIER_CD        IN NVARCHAR2, 
	P_CARRIER_GB        IN NUMBER, 
	P_CARRIER_STAT      IN CHAR, 
	P_LOT_ID            IN NVARCHAR2, 
	P_FIRSTLOT_ID       IN NVARCHAR2, 
	P_SECONDLOT_ID      IN NVARCHAR2, 
	P_THIRDLOT_ID       IN NVARCHAR2, 
	P_FOURTHLOT_ID      IN NVARCHAR2, 
	P_FIFTHLOT_ID       IN NVARCHAR2, 
	P_SIXTHLOT_ID       IN NVARCHAR2, 
	P_CARRYIN_DTTM      IN TIMESTAMP, 
	P_CARRIERID_STAT    IN CHAR,
    P_CARRIERHEIGHT_STAT    IN CHAR,
    P_DEL               IN CHAR,
    R_RESULT            OUT NVARCHAR2,
    R_TEMP              OUT NVARCHAR2,
    R_RESULT2           OUT NVARCHAR2,
    R_TEMP2             OUT NVARCHAR2,
    R_CARRIER_LOC       OUT NVARCHAR2,
    R_CARRIER_ID        OUT NVARCHAR2
)
IS
    V_CNT  NUMBER := 0;
    TEMP_CARRIER_LOC VARCHAR(10);
    V_SQL VARCHAR2(2000);
    LOG_TEMP1 NVARCHAR2(100);
BEGIN
    /*SELECT COUNT(CARRIER_ID) 
        INTO V_CNT FROM TB_CARRIER_INFO
        WHERE SCS_CD=P_SCS_CD AND CARRIER_ID=P_CARRIER_ID;*/
    LOG_TEMP1 := 'COUNT_CHECK';    

    SELECT COUNT(P_CARRIER_LOC)
        INTO V_CNT
        FROM TB_CARRIER_INFO
        WHERE SCS_CD=P_SCS_CD AND CARRIER_LOC=P_CARRIER_LOC;        

    /*V_SQL := 'SELECT COUNT(CARRIER_ID) INTO V_CNT FROM P_TABLENAME WHERE SCS_CD = P_SCS_CD AND CARRIER_LOC = P_CARRIER_LOC';
    EXECUTE IMMEDIATE V_SQL INTO V_CNT;*/

    IF V_CNT = 0 
    THEN
        /*V_CNT := 0;
        SELECT COUNT(P_CARRIER_LOC)
            INTO V_CNT
            FROM TB_CARRIER_INFO
            WHERE SCS_CD=P_SCS_CD AND CARRIER_LOC=P_CARRIER_LOC;*/

        /*IF V_CNT <> 0 THEN
            R_TEMP := 'CARRIER_UPDATE1';
            R_RESULT := P_CARRIER_LOC;
            UPDATE TB_CARRIER_INFO SET CARRIER_ID=P_CARRIER_ID, CARRIER_LOC=P_CARRIER_LOC, PRODUCT_STAT=P_PRODUCT_STAT, POLARITY_STAT=P_POLARITY_STAT, 
                WINDERDIR_STAT=P_WINDERDIR_STAT, PRODUCT_CNT=P_PRODUCT_CNT, FINALLOC_NO=P_FINALLOC_NO, INNERTYPE_GB=P_INNERTYPE_GB, 
                PALLET_GB=P_PALLET_GB, TRAYSTACK_CNT=P_TRAYSTACK_CNT, TRAYTYPE_STAT=P_TRAYTYPE_STAT,
                UNCOATED_STAT=P_UNCOATED_STAT, CORETYPE_STAT=P_CORETYPE_STAT, VALIDATION_ID=P_VALIDATION_ID, 
                PRODUCTEND_STAT=P_PRODUCTEND_STAT, CARRIER_CD=P_CARRIER_CD, CARRIER_GB=P_CARRIER_GB,
                CARRIER_STAT=P_CARRIER_STAT, LOT_ID=P_LOT_ID, FIRSTLOT_ID=P_FIRSTLOT_ID, SECONDLOT_ID=P_SECONDLOT_ID, 
                THIRDLOT_ID=P_THIRDLOT_ID, FOURTHLOT_ID=P_FOURTHLOT_ID,
                FIFTHLOT_ID=FIFTHLOT_ID, SIXTHLOT_ID=P_SIXTHLOT_ID, CARRYIN_DTTM=P_CARRYIN_DTTM, CARRIERID_STAT=P_CARRIERID_STAT 
                WHERE CARRIER_LOC=P_CARRIER_LOC AND SCS_CD=P_SCS_CD;
        ELSE        
            R_TEMP := 'CARRIER_INSERT';
            R_RESULT := P_CARRIER_LOC;
            INSERT INTO TB_CARRIER_INFO(SCS_CD, CARRIER_ID, CARRIER_LOC, PRODUCT_STAT, POLARITY_STAT, WINDERDIR_STAT, PRODUCT_CNT, 
                FINALLOC_NO, INNERTYPE_GB, PALLET_GB, TRAYSTACK_CNT, TRAYTYPE_STAT, UNCOATED_STAT, CORETYPE_STAT, VALIDATION_ID, 
                PRODUCTEND_STAT, CARRIER_CD, CARRIER_GB, CARRIER_STAT, LOT_ID, FIRSTLOT_ID, SECONDLOT_ID, THIRDLOT_ID, FOURTHLOT_ID, 
                FIFTHLOT_ID, SIXTHLOT_ID, CARRYIN_DTTM, CARRIERID_STAT) 
                VALUES (P_SCS_CD, P_CARRIER_ID, P_CARRIER_LOC, P_PRODUCT_STAT, P_POLARITY_STAT, P_WINDERDIR_STAT, P_PRODUCT_CNT, 
                P_FINALLOC_NO, P_INNERTYPE_GB, P_PALLET_GB, P_TRAYSTACK_CNT, P_TRAYTYPE_STAT, P_UNCOATED_STAT, P_CORETYPE_STAT, 
                P_VALIDATION_ID, P_PRODUCTEND_STAT, P_CARRIER_CD, P_CARRIER_GB, P_CARRIER_STAT, P_LOT_ID, P_FIRSTLOT_ID, P_SECONDLOT_ID, 
                P_THIRDLOT_ID, P_FOURTHLOT_ID, P_FIFTHLOT_ID, P_SIXTHLOT_ID, P_CARRYIN_DTTM, P_CARRIERID_STAT);
        END IF;*/

        LOG_TEMP1 := 'INSERT_CHECK';
        R_TEMP := 'CARRIER_INSERT';
        R_RESULT := P_CARRIER_LOC;
        INSERT INTO TB_CARRIER_INFO(SCS_CD, CARRIER_ID, CARRIER_LOC, PRODUCT_STAT, POLARITY_STAT, WINDERDIR_STAT, PRODUCT_CNT, 
            FINALLOC_NO, INNERTYPE_GB, PALLET_GB, TRAYSTACK_CNT, TRAYTYPE_STAT, UNCOATED_STAT, CORETYPE_STAT, VALIDATION_ID, 
            PRODUCTEND_STAT, CARRIER_CD, CARRIER_GB, CARRIER_STAT, LOT_ID, FIRSTLOT_ID, SECONDLOT_ID, THIRDLOT_ID, FOURTHLOT_ID, 
            FIFTHLOT_ID, SIXTHLOT_ID, CARRYIN_DTTM, CARRIERID_STAT, CARRIERHEIGHT_STAT) 
            VALUES (P_SCS_CD, P_CARRIER_ID, P_CARRIER_LOC, P_PRODUCT_STAT, P_POLARITY_STAT, P_WINDERDIR_STAT, P_PRODUCT_CNT, 
            P_FINALLOC_NO, P_INNERTYPE_GB, P_PALLET_GB, P_TRAYSTACK_CNT, P_TRAYTYPE_STAT, P_UNCOATED_STAT, P_CORETYPE_STAT, 
            P_VALIDATION_ID, P_PRODUCTEND_STAT, P_CARRIER_CD, P_CARRIER_GB, P_CARRIER_STAT, P_LOT_ID, P_FIRSTLOT_ID, P_SECONDLOT_ID, 
            P_THIRDLOT_ID, P_FOURTHLOT_ID, P_FIFTHLOT_ID, P_SIXTHLOT_ID, P_CARRYIN_DTTM, P_CARRIERID_STAT, P_CARRIERHEIGHT_STAT);        

        /*20220531 조숭진 SHELF에 적재 후 CARRIER_LOC RM으로 DB에 남아있어서 여기서 삭제한다. 나중에 수정되면 하기 내용 주석처리 s*/
        /*IF REGEXP_INSTR(P_CARRIER_LOC,'[^0-9]') = 0
        THEN
            V_CNT := 0;
            SELECT COUNT(CARRIER_ID)
                INTO V_CNT
                FROM TB_CARRIER_INFO
                WHERE SCS_CD=P_SCS_CD AND CARRIER_ID=P_CARRIER_ID AND CARRIER_LOC LIKE 'RM%';

            IF V_CNT <> 0 THEN
                SELECT CARRIER_LOC
                    INTO TEMP_CARRIER_LOC
                    FROM TB_CARRIER_INFO
                    WHERE SCS_CD=P_SCS_CD AND CARRIER_ID=P_CARRIER_ID AND CARRIER_LOC LIKE 'RM%'
                    GROUP BY CARRIER_LOC;

                DELETE FROM TB_CARRIER_INFO WHERE SCS_CD = P_SCS_CD AND CARRIER_ID = P_CARRIER_ID AND CARRIER_LOC = TEMP_CARRIER_LOC;

            R_TEMP2 := 'RM_CARRIER_DELETE';
            R_RESULT2 := TEMP_CARRIER_LOC;
            END IF;
        END IF;*/
        /*20220531 조숭진 SHELF에 적재 후 CARRIER_LOC RM으로 DB에 남아있어서 여기서 삭제한다. 나중에 수정되면 하기 내용 주석처리 e*/
    ELSE        
        IF P_DEL = '1' 
        THEN
            LOG_TEMP1 := 'DELETE_CHECK';
            R_TEMP := 'CARRIER_DELETE';
            R_RESULT := P_CARRIER_LOC;
            DELETE FROM TB_CARRIER_INFO WHERE SCS_CD = P_SCS_CD AND CARRIER_ID = P_CARRIER_ID;
        ELSE
            LOG_TEMP1 := 'UPDATE_CHECK';
            R_TEMP := 'CARRIER_UPDATE';
            R_RESULT := P_CARRIER_LOC;
            /*UPDATE TB_CARRIER_INFO SET CARRIER_ID=P_CARRIER_ID, CARRIER_LOC=P_CARRIER_LOC, PRODUCT_STAT=P_PRODUCT_STAT, POLARITY_STAT=P_POLARITY_STAT, 
                WINDERDIR_STAT=P_WINDERDIR_STAT, PRODUCT_CNT=P_PRODUCT_CNT, FINALLOC_NO=P_FINALLOC_NO, INNERTYPE_GB=P_INNERTYPE_GB, 
                PALLET_GB=P_PALLET_GB, TRAYSTACK_CNT=P_TRAYSTACK_CNT, TRAYTYPE_STAT=P_TRAYTYPE_STAT,
                UNCOATED_STAT=P_UNCOATED_STAT, CORETYPE_STAT=P_CORETYPE_STAT, VALIDATION_ID=P_VALIDATION_ID, 
                PRODUCTEND_STAT=P_PRODUCTEND_STAT, CARRIER_CD=P_CARRIER_CD, CARRIER_GB=P_CARRIER_GB,
                CARRIER_STAT=P_CARRIER_STAT, LOT_ID=P_LOT_ID, FIRSTLOT_ID=P_FIRSTLOT_ID, SECONDLOT_ID=P_SECONDLOT_ID, 
                THIRDLOT_ID=P_THIRDLOT_ID, FOURTHLOT_ID=P_FOURTHLOT_ID,
                FIFTHLOT_ID=FIFTHLOT_ID, SIXTHLOT_ID=P_SIXTHLOT_ID, CARRYIN_DTTM=P_CARRYIN_DTTM, CARRIERID_STAT=P_CARRIERID_STAT 
                WHERE CARRIER_ID=P_CARRIER_ID AND SCS_CD=P_SCS_CD;*/
            UPDATE TB_CARRIER_INFO SET CARRIER_ID=P_CARRIER_ID, CARRIER_LOC=P_CARRIER_LOC, PRODUCT_STAT=P_PRODUCT_STAT, POLARITY_STAT=P_POLARITY_STAT, 
                WINDERDIR_STAT=P_WINDERDIR_STAT, PRODUCT_CNT=P_PRODUCT_CNT, FINALLOC_NO=P_FINALLOC_NO, INNERTYPE_GB=P_INNERTYPE_GB, 
                PALLET_GB=P_PALLET_GB, TRAYSTACK_CNT=P_TRAYSTACK_CNT, TRAYTYPE_STAT=P_TRAYTYPE_STAT,
                UNCOATED_STAT=P_UNCOATED_STAT, CORETYPE_STAT=P_CORETYPE_STAT, VALIDATION_ID=P_VALIDATION_ID, 
                PRODUCTEND_STAT=P_PRODUCTEND_STAT, CARRIER_CD=P_CARRIER_CD, CARRIER_GB=P_CARRIER_GB,
                CARRIER_STAT=P_CARRIER_STAT, LOT_ID=P_LOT_ID, FIRSTLOT_ID=P_FIRSTLOT_ID, SECONDLOT_ID=P_SECONDLOT_ID, 
                THIRDLOT_ID=P_THIRDLOT_ID, FOURTHLOT_ID=P_FOURTHLOT_ID,
                FIFTHLOT_ID=FIFTHLOT_ID, SIXTHLOT_ID=P_SIXTHLOT_ID, CARRYIN_DTTM=P_CARRYIN_DTTM, CARRIERID_STAT=P_CARRIERID_STAT, CARRIERHEIGHT_STAT=P_CARRIERHEIGHT_STAT 
                WHERE CARRIER_LOC=P_CARRIER_LOC AND SCS_CD=P_SCS_CD;                
        END IF;
    END IF;

    COMMIT;

    EXCEPTION
        WHEN OTHERS THEN
        BEGIN
            R_RESULT := 'NO_LOC';  
            R_TEMP := LOG_TEMP1;
            R_CARRIER_ID := P_CARRIER_ID;
            R_CARRIER_LOC := P_CARRIER_LOC;
            ROLLBACK;
        END;    
END USP_STC_CARRIER_INFO_SET;


/
--------------------------------------------------------
--  DDL for Procedure USP_STC_CLIENT_ORDER_SET
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "USP_STC_CLIENT_ORDER_SET" 
(
    P_SCS_CD                IN NVARCHAR2,
    P_CMD_GB                IN NVARCHAR2,
    P_TARGET_CD             IN NVARCHAR2,
    P_TARGET_ID             IN NVARCHAR2,
    P_TARGET_VALUE          IN NVARCHAR2,
    P_CREATE_DTTM           IN NVARCHAR2,
    P_REQUESTER_GB          IN CHAR,
    P_DEL                   IN CHAR,
    P_JOB_ID                IN NVARCHAR2,
    P_CLIENT_CD             IN NVARCHAR2,
    R_RESULT                OUT NVARCHAR2,
    R_TEMP                  OUT NVARCHAR2
)
IS
    V_CNT           NUMBER := 0;
    V_TARGET_ID     NVARCHAR2(64);
    V_TARGET_VAR    NVARCHAR2(64);
BEGIN
    IF P_CLIENT_CD IS NULL THEN
        IF P_TARGET_ID IS NULL AND P_TARGET_VALUE IS NOT NULL THEN
            SELECT COUNT(TMP_CLIENT_ORDER.TARGET_VALUE)
                INTO V_CNT
                FROM TB_CLIENT_ORDER TMP_CLIENT_ORDER WHERE TMP_CLIENT_ORDER.SCS_CD=P_SCS_CD AND TMP_CLIENT_ORDER.CMD_GB=P_CMD_GB 
                    AND TMP_CLIENT_ORDER.TARGET_VALUE=P_TARGET_VALUE AND REQUESTER_GB=P_REQUESTER_GB;     
        ELSE
            SELECT COUNT(TMP_CLIENT_ORDER.TARGET_ID)
                INTO V_CNT
                FROM TB_CLIENT_ORDER TMP_CLIENT_ORDER WHERE TMP_CLIENT_ORDER.SCS_CD=P_SCS_CD AND TMP_CLIENT_ORDER.CMD_GB=P_CMD_GB 
                    AND TMP_CLIENT_ORDER.TARGET_ID=P_TARGET_ID AND REQUESTER_GB=P_REQUESTER_GB;
        END IF;    
    ELSE
        IF P_TARGET_ID IS NULL AND P_TARGET_VALUE IS NOT NULL THEN
            SELECT COUNT(TMP_CLIENT_ORDER.TARGET_VALUE)
                INTO V_CNT
                FROM TB_CLIENT_ORDER TMP_CLIENT_ORDER WHERE TMP_CLIENT_ORDER.SCS_CD=P_SCS_CD AND TMP_CLIENT_ORDER.CMD_GB=P_CMD_GB 
                    AND TMP_CLIENT_ORDER.TARGET_VALUE=P_TARGET_VALUE AND TMP_CLIENT_ORDER.CLIENT_CD=P_CLIENT_CD AND REQUESTER_GB=P_REQUESTER_GB;     
        ELSE
            SELECT COUNT(TMP_CLIENT_ORDER.TARGET_ID)
                INTO V_CNT
                FROM TB_CLIENT_ORDER TMP_CLIENT_ORDER WHERE TMP_CLIENT_ORDER.SCS_CD=P_SCS_CD AND TMP_CLIENT_ORDER.CMD_GB=P_CMD_GB 
                    AND TMP_CLIENT_ORDER.TARGET_ID=P_TARGET_ID AND TMP_CLIENT_ORDER.CLIENT_CD=P_CLIENT_CD AND REQUESTER_GB=P_REQUESTER_GB;
        END IF;
    END IF;

    IF V_CNT=0 THEN
        R_TEMP := 'REQ_INSERT';
        R_RESULT := P_CMD_GB;   

        IF P_DEL='0' THEN
            INSERT INTO TB_CLIENT_ORDER (SCS_CD, CMD_GB, TARGET_CD, TARGET_ID, TARGET_VALUE, CREATE_DTTM, REQUESTER_GB, JOB_ID, CLIENT_CD)
                VALUES (P_SCS_CD, P_CMD_GB, P_TARGET_CD, P_TARGET_ID, P_TARGET_VALUE, P_CREATE_DTTM, P_REQUESTER_GB, P_JOB_ID, P_CLIENT_CD);
        END IF;
    ELSE
        IF P_DEL='1' THEN
            IF P_CLIENT_CD IS NULL THEN
                IF P_TARGET_ID IS NULL AND P_TARGET_VALUE IS NOT NULL THEN
                    DELETE FROM TB_CLIENT_ORDER WHERE SCS_CD=P_SCS_CD AND CMD_GB=P_CMD_GB AND TARGET_VALUE=P_TARGET_VALUE AND REQUESTER_GB=P_REQUESTER_GB;
                ELSE
                    DELETE FROM TB_CLIENT_ORDER WHERE SCS_CD=P_SCS_CD AND CMD_GB=P_CMD_GB AND TARGET_ID=P_TARGET_ID AND REQUESTER_GB=P_REQUESTER_GB;
                END IF;
            ELSE
                IF P_TARGET_ID IS NULL AND P_TARGET_VALUE IS NOT NULL THEN
                    DELETE FROM TB_CLIENT_ORDER WHERE SCS_CD=P_SCS_CD AND CMD_GB=P_CMD_GB AND TARGET_VALUE=P_TARGET_VALUE AND CLIENT_CD=P_CLIENT_CD AND REQUESTER_GB=P_REQUESTER_GB;
                ELSE
                    DELETE FROM TB_CLIENT_ORDER WHERE SCS_CD=P_SCS_CD AND CMD_GB=P_CMD_GB AND TARGET_ID=P_TARGET_ID AND CLIENT_CD=P_CLIENT_CD AND REQUESTER_GB=P_REQUESTER_GB;
                END IF;
            END IF;
            R_TEMP := 'REQ_DELETE';
            R_RESULT := P_CMD_GB;
        ELSE
            IF P_CLIENT_CD IS NULL THEN
                UPDATE TB_CLIENT_ORDER 
                    SET CMD_GB=P_CMD_GB, TARGET_VALUE=P_TARGET_VALUE, CREATE_DTTM=P_CREATE_DTTM, REQUESTER_GB=P_REQUESTER_GB, JOB_ID=P_JOB_ID, CLIENT_CD=P_CLIENT_CD 
                    WHERE SCS_CD=P_SCS_CD AND TARGET_ID=P_TARGET_ID AND REQUESTER_GB=P_REQUESTER_GB;
            ELSE
                UPDATE TB_CLIENT_ORDER 
                    SET CMD_GB=P_CMD_GB, TARGET_VALUE=P_TARGET_VALUE, CREATE_DTTM=P_CREATE_DTTM, REQUESTER_GB=P_REQUESTER_GB, JOB_ID=P_JOB_ID, CLIENT_CD=P_CLIENT_CD 
                    WHERE SCS_CD=P_SCS_CD AND TARGET_ID=P_TARGET_ID AND REQUESTER_GB=P_REQUESTER_GB AND CLIENT_CD=P_CLIENT_CD;
            END IF;
            R_TEMP := 'REQ_UPDATE';
            R_RESULT := P_CMD_GB;

        END IF;
    END IF;

    COMMIT;

    EXCEPTION
        WHEN OTHERS THEN
        BEGIN
            R_RESULT := 'NO_REQ';
            R_TEMP := 'REQ_EXCEPTION';
            ROLLBACK;
        END;    
END USP_STC_CLIENT_ORDER_SET;

/
--------------------------------------------------------
--  DDL for Procedure USP_STC_CONFIG_INFO_SET
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "USP_STC_CONFIG_INFO_SET" 
(
    P_NUM           IN NUMBER,
    P_SCS_CD        IN NVARCHAR2,
    P_CONFIG_NM     IN NVARCHAR2,
    P_CONFIG_GB     IN NVARCHAR2,
    P_CONFIG_VAL    IN NVARCHAR2,
    P_CONFIG_DEF    IN NVARCHAR2,
    P_CONFIG_DES    IN NVARCHAR2,
    R_RESULT        OUT NVARCHAR2,
    R_TEMP          OUT NVARCHAR2
)
IS
    V_CNT  NUMBER := 0;
BEGIN
        SELECT COUNT(CONFIG_VAL)
            INTO V_CNT
            FROM TB_CONFIG_INFO WHERE SCS_CD=P_SCS_CD AND CONFIG_GB=P_CONFIG_GB AND CONFIG_NM=P_CONFIG_NM;

        IF V_CNT=0 THEN
            R_TEMP := 'CONFIG_INSERT';
            R_RESULT := P_CONFIG_NM;

            V_CNT := 0;
            SELECT COUNT(CONFIG_GB)
                INTO V_CNT
                FROM TB_CONFIG_INFO WHERE SCS_CD=P_SCS_CD AND CONFIG_GB=P_CONFIG_GB AND CONFIG_NM=P_CONFIG_NM;

            IF V_CNT<>0 THEN
                UPDATE TB_CONFIG_INFO SET CONFIG_NM=P_CONFIG_NM, CONFIG_GB=P_CONFIG_GB, CONFIG_VAL=P_CONFIG_VAL, CONFIG_DEF=P_CONFIG_DEF, CONFIG_DES=P_CONFIG_DES
                    WHERE SCS_CD=P_SCS_CD AND CONFIG_GB=P_CONFIG_GB AND CONFIG_NM=P_CONFIG_NM;              
            ELSE
                IF P_NUM=0 THEN
                    INSERT INTO TB_CONFIG_INFO(SCS_CD, CONFIG_NM, CONFIG_GB, CONFIG_VAL, CONFIG_DEF, CONFIG_DES) 
                        VALUES (P_SCS_CD, P_CONFIG_NM, P_CONFIG_GB, P_CONFIG_VAL, P_CONFIG_DEF, P_CONFIG_DES);            
                ELSE
                    INSERT INTO TB_CONFIG_INFO(CONFIG_NO, SCS_CD, CONFIG_NM, CONFIG_GB, CONFIG_VAL, CONFIG_DEF, CONFIG_DES) 
                        VALUES (P_NUM, P_SCS_CD, P_CONFIG_NM, P_CONFIG_GB, P_CONFIG_VAL, P_CONFIG_DEF, P_CONFIG_DES);
                END IF;
            END IF;    

        ELSE
            R_TEMP := 'CONFIG_UPDATE';
            R_RESULT := P_CONFIG_NM;

            UPDATE TB_CONFIG_INFO SET CONFIG_NM=P_CONFIG_NM, CONFIG_GB=P_CONFIG_GB, CONFIG_VAL=P_CONFIG_VAL, CONFIG_DEF=P_CONFIG_DEF, CONFIG_DES=P_CONFIG_DES
                WHERE SCS_CD=P_SCS_CD AND CONFIG_GB=P_CONFIG_GB AND CONFIG_NM=P_CONFIG_NM;        
        END IF;

        COMMIT;

    EXCEPTION
        WHEN OTHERS THEN
        BEGIN
            R_RESULT := 'NO_CONFIG';  
            R_TEMP := 'EXCEPTION';
            ROLLBACK;
        END;
END USP_STC_CONFIG_INFO_SET;


/
--------------------------------------------------------
--  DDL for Procedure USP_STC_CONNECT_CLIENT_SET
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "USP_STC_CONNECT_CLIENT_SET" 
(
    P_SCS_CD            IN NVARCHAR2,
    P_CLIENT_CD         IN NVARCHAR2,
    P_CLIENT_IP         IN NVARCHAR2,
    P_DEL               IN CHAR,
    R_RESULT                OUT NVARCHAR2,
    R_TEMP                  OUT NVARCHAR2
)
IS
    V_CNT  NUMBER := 0;
BEGIN
    SELECT COUNT(CLIENT_CD)
        INTO V_CNT
        FROM TB_CONNECT_CLIENT_INFO WHERE SCS_CD=P_SCS_CD AND CLIENT_IP=P_CLIENT_IP;
    
    IF V_CNT=0 THEN
        INSERT INTO TB_CONNECT_CLIENT_INFO(SCS_CD, CLIENT_CD, CLIENT_IP) 
            VALUES (P_SCS_CD, P_CLIENT_CD, P_CLIENT_IP);
        R_RESULT:='INSERT_CHECK';
        R_TEMP:=P_CLIENT_CD;
    ELSE
        IF P_DEL='1' THEN
            DELETE FROM TB_CONNECT_CLIENT_INFO WHERE SCS_CD=P_SCS_CD AND CLIENT_IP=P_CLIENT_IP AND CLIENT_CD=P_CLIENT_CD;
            R_RESULT:='DELETE_CHECK';
            R_TEMP:=P_CLIENT_CD;
        END IF;
    END IF;
    
END USP_STC_CONNECT_CLIENT_SET;

/
--------------------------------------------------------
--  DDL for Procedure USP_STC_EQP_INFO_SET
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "USP_STC_EQP_INFO_SET" 
(
    P_SCS_IP                    IN NVARCHAR2,
    P_SCS_CD                    IN NVARCHAR2,
    P_MCS_STAT                  IN CHAR,
    P_SCS_STAT                  IN CHAR,
    P_PLC_STAT                  IN CHAR,
    P_SYSTEM_STAT               IN CHAR,
    P_SCS_NM                    IN NVARCHAR2,
    P_SCS_NO                    IN NVARCHAR2,
    P_DBFIRSTIP_NO              IN NVARCHAR2,
    P_DBFIRSTPORT_NO            IN NVARCHAR2,
    P_DBFIRSTSERVICE_NM         IN NVARCHAR2,
    P_DBSECONDIP_NO             IN NVARCHAR2,
    P_DBSECONDPORT_NO           IN NVARCHAR2,
    P_DBSECONDSERVICE_NM        IN NVARCHAR2,
    P_DBACCOUNT_NM              IN NVARCHAR2,
    P_DBPASSWORD_GB             IN NVARCHAR2,
    P_INIT                      IN CHAR,
    R_RESULT                    OUT NVARCHAR2,
    R_TEMP                      OUT NVARCHAR2    
)
IS
    V_CNT  NUMBER := 0;
BEGIN
    SELECT COUNT(EQP_ID)
        INTO V_CNT
        FROM TB_EQP_INFO WHERE EQP_ID=P_SCS_CD;

    IF V_CNT=0 THEN
        INSERT INTO TB_EQP_INFO 
             (EQP_NM, EQP_ID, EQP_NO, IP_NO, MCS_STAT, SCS_STAT, PLC_STAT, SYSTEM_STAT, DBFIRSTIP_NO, DBFIRSTPORT_NO, DBFIRSTSERVICE_NM, DBSECONDIP_NO, DBSECONDPORT_NO, DBSECONDSERVICE_NM, DBACCOUNT_NM, DBPASSWORD_GB)
             VALUES 
             (P_SCS_NM, P_SCS_CD, P_SCS_NO, P_SCS_IP, P_MCS_STAT, P_SCS_STAT, P_PLC_STAT, P_SYSTEM_STAT, P_DBFIRSTIP_NO, P_DBFIRSTPORT_NO, P_DBFIRSTSERVICE_NM, P_DBSECONDIP_NO, P_DBSECONDPORT_NO, P_DBSECONDSERVICE_NM, P_DBACCOUNT_NM, P_DBPASSWORD_GB);
        R_RESULT := 'EQP_INSERT';
        R_TEMP := P_SCS_CD;
    ELSIF P_INIT='1' THEN
        UPDATE TB_EQP_INFO SET MCS_STAT=P_MCS_STAT, SCS_STAT=P_SCS_STAT, PLC_STAT=P_PLC_STAT, SYSTEM_STAT=P_SYSTEM_STAT, IP_NO=P_SCS_IP, EQP_NM=P_SCS_NM, EQP_NO=P_SCS_NO, DBFIRSTIP_NO=P_DBFIRSTIP_NO, DBFIRSTSERVICE_NM=P_DBFIRSTSERVICE_NM,
            DBSECONDIP_NO=P_DBSECONDIP_NO, DBSECONDPORT_NO=P_DBSECONDPORT_NO, DBSECONDSERVICE_NM=P_DBSECONDSERVICE_NM, DBACCOUNT_NM=P_DBACCOUNT_NM, DBPASSWORD_GB=P_DBPASSWORD_GB
            WHERE EQP_ID=P_SCS_CD;
    ELSE
        UPDATE TB_EQP_INFO SET MCS_STAT=P_MCS_STAT, SCS_STAT=P_SCS_STAT, PLC_STAT=P_PLC_STAT, SYSTEM_STAT=P_SYSTEM_STAT WHERE EQP_ID=P_SCS_CD;
        R_RESULT := 'EQP_UPDATE';  
        R_TEMP := P_SCS_CD;     
    END IF;

    COMMIT;    

    EXCEPTION
        WHEN OTHERS THEN
        BEGIN
            R_RESULT := 'NO_EQP'; 
            R_TEMP := 'EXCEPTION';
            ROLLBACK;
        END;      
END USP_STC_EQP_INFO_SET;


/
--------------------------------------------------------
--  DDL for Procedure USP_STC_JOB_INFO_SET
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "USP_STC_JOB_INFO_SET" 
(
    P_SCS_CD            IN NVARCHAR2,
    P_CREATE_DTTM       IN TIMESTAMP,
    P_CMD_ID            IN NVARCHAR2,
    P_CARRIER_ID        IN NVARCHAR2,
    P_SOUR_ID           IN NVARCHAR2,
    P_DEST_ID           IN NVARCHAR2,
    P_PRIORITY_ORDER    IN NUMBER,
    P_TRANSFER_NO       IN NUMBER,
    P_TRAYTYPE_GB       IN NVARCHAR2,
    P_TRSTATUS_GB       IN NVARCHAR2,
    P_JOBFROM_GB        IN NUMBER,
    P_JOBTYPE_GB        IN NVARCHAR2,
    P_ASSIGNRM_NM       IN NVARCHAR2,
    P_JOBSTEP_NM        IN NUMBER,
    P_SUBJOBTYPE_NM     IN NUMBER,
    P_DEL               IN CHAR,
    P_SOURZONE_NM       IN NVARCHAR2,
    P_DESTZONE_NM       IN NVARCHAR2,
    R_RESULT            OUT NVARCHAR2,
    R_TEMP              OUT NVARCHAR2    
)
IS
    V_CNT  NUMBER := 0;
BEGIN
    SELECT COUNT(CMD_ID)
        INTO V_CNT
        FROM TB_JOB_INFO WHERE SCS_CD=P_SCS_CD AND CMD_ID=P_CMD_ID;

    IF V_CNT=0 THEN
        INSERT INTO TB_JOB_INFO (SCS_CD, CREATE_DTTM, CARRIER_ID, SOUR_ID, DEST_ID, PRIORITY_ORDER, TRANSFER_NO, TRAYTYPE_GB, CMD_ID, JOBFROM_GB, TRSTATUS_GB, JOBTYPE_GB, ASSIGNRM_NM, JOBSTEP_NM, SUBJOBTYPE_NM, SOURZONE_NM, DESTZONE_NM)
            VALUES (P_SCS_CD, P_CREATE_DTTM, P_CARRIER_ID, P_SOUR_ID, P_DEST_ID, P_PRIORITY_ORDER, P_TRANSFER_NO, P_TRAYTYPE_GB, P_CMD_ID, P_JOBFROM_GB, P_TRSTATUS_GB, P_JOBTYPE_GB, P_ASSIGNRM_NM, P_JOBSTEP_NM, P_SUBJOBTYPE_NM, P_SOURZONE_NM, P_DESTZONE_NM);
        R_RESULT := 'JOB_INSERT';
        R_TEMP := P_CMD_ID;
    ELSE
        IF P_DEL='1' THEN
            DELETE FROM TB_JOB_INFO WHERE SCS_CD=P_SCS_CD AND CMD_ID=P_CMD_ID;
            R_RESULT := 'JOB_DELETE';
            R_TEMP := P_CMD_ID;
        ELSE
            UPDATE TB_JOB_INFO SET PRIORITY_ORDER=P_PRIORITY_ORDER, DEST_ID=DEST_ID, TRANSFER_NO=P_TRANSFER_NO, ASSIGNRM_NM=P_ASSIGNRM_NM, JOBSTEP_NM=JOBSTEP_NM, TRSTATUS_GB=P_TRSTATUS_GB, SUBJOBTYPE_NM=P_SUBJOBTYPE_NM,
                SOURZONE_NM=P_SOURZONE_NM, DESTZONE_NM=P_DESTZONE_NM
                WHERE CMD_ID=P_CMD_ID AND SCS_CD=P_SCS_CD;
            R_RESULT := 'JOB_UPDATE';
            R_TEMP := P_CMD_ID;            
        END IF;
    END IF;

    COMMIT;

    EXCEPTION
    WHEN OTHERS THEN
    BEGIN
        R_RESULT := 'NO_JOB';  
        R_TEMP := 'EXCEPTION';
        ROLLBACK;
    END;  
END USP_STC_JOB_INFO_SET;


/
--------------------------------------------------------
--  DDL for Procedure USP_STC_LOG_INFO_SET
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "USP_STC_LOG_INFO_SET" 
(
    P_SCS_CD            IN NVARCHAR2,
    P_LOG_NM            IN NVARCHAR2,
    P_RECODE_DTTM       IN NVARCHAR2,
    P_COL_1             IN NVARCHAR2,
    P_COL_2             IN NVARCHAR2,
    P_COL_3             IN NVARCHAR2,
    P_COL_4             IN NVARCHAR2,
    P_COL_5             IN NVARCHAR2,
    P_COL_6             IN NVARCHAR2,
    P_COL_7             IN NVARCHAR2,
    P_COL_8             IN NVARCHAR2,
    P_COL_9             IN NVARCHAR2,
    P_COL_10            IN NVARCHAR2,
    P_COL_11            IN NVARCHAR2,
    P_COL_12            IN NVARCHAR2,
    P_COL_13            IN NVARCHAR2,
    P_SECS2             IN CLOB,
    R_RESULT            OUT NVARCHAR2,
    R_TEMP              OUT NVARCHAR2    
)
IS
    V_CNT  NUMBER := 0;
BEGIN
    IF P_LOG_NM = 'ALARM' THEN
        SELECT COUNT(COL_6)
            INTO V_CNT
            FROM TB_UNITED_LOG_INFO TMP_UNITED_LOG_INFO WHERE TMP_UNITED_LOG_INFO.SCS_CD = P_SCS_CD AND TMP_UNITED_LOG_INFO.LOG_NM = P_LOG_NM
                AND TMP_UNITED_LOG_INFO.COL_1 = P_COL_1 AND TMP_UNITED_LOG_INFO.COL_6 = P_COL_6;

        IF V_CNT=0 THEN
            INSERT INTO TB_UNITED_LOG_INFO (SCS_CD, LOG_NM, RECODE_DTTM, COL_1, COL_2, COL_3, COL_4, COL_5, COL_6, COL_7, COL_8, COL_9, COL_10, COL_11, COL_12, COL_13)
                VALUES (P_SCS_CD, P_LOG_NM, P_RECODE_DTTM, P_COL_1, P_COL_2, P_COL_3, P_COL_4, P_COL_5, P_COL_6, P_COL_7, P_COL_8, P_COL_9, P_COL_10, P_COL_11, P_COL_12, P_COL_13);
        ELSE
            UPDATE TB_UNITED_LOG_INFO SET COL_7=P_COL_7 WHERE SCS_CD=P_SCS_CD AND LOG_NM=P_LOG_NM AND COL_1=P_COL_1 AND COL_6=P_COL_6;
        END IF;
    ELSE
        IF P_LOG_NM='HSMS' THEN
            INSERT INTO TB_UNITED_LOG_INFO (SCS_CD, LOG_NM, RECODE_DTTM, COL_1, COL_2, COL_3, COL_4, COL_5, COL_6, COL_7, COL_8, COL_9, COL_10, COL_11, COL_12, COL_13, HIST_SECS2)
                VALUES (P_SCS_CD, P_LOG_NM, P_RECODE_DTTM, P_COL_1, P_COL_2, P_COL_3, P_COL_4, P_COL_5, P_COL_6, P_COL_7, P_COL_8, P_COL_9, P_COL_10, P_COL_11, P_COL_12, P_COL_13, P_SECS2);        
        ELSE
            INSERT INTO TB_UNITED_LOG_INFO (SCS_CD, LOG_NM, RECODE_DTTM, COL_1, COL_2, COL_3, COL_4, COL_5, COL_6, COL_7, COL_8, COL_9, COL_10, COL_11, COL_12, COL_13)
                VALUES (P_SCS_CD, P_LOG_NM, P_RECODE_DTTM, P_COL_1, P_COL_2, P_COL_3, P_COL_4, P_COL_5, P_COL_6, P_COL_7, P_COL_8, P_COL_9, P_COL_10, P_COL_11, P_COL_12, P_COL_13);
        END IF;
    END IF;

    R_TEMP := P_LOG_NM;
    R_RESULT := 'OK';

    COMMIT;

    EXCEPTION
        WHEN OTHERS THEN
        BEGIN
            R_RESULT := 'NG';  
            R_TEMP := 'LOG_EXCEPTION';
            ROLLBACK;
        END;     
END USP_STC_LOG_INFO_SET;


/
--------------------------------------------------------
--  DDL for Procedure USP_STC_OY_JOB_INFO_SET
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "USP_STC_OY_JOB_INFO_SET" 
(
    P_SCS_CD            IN NVARCHAR2,
    P_CREATE_DTTM       IN TIMESTAMP,
    P_CMD_ID            IN NVARCHAR2,
    P_CARRIER_ID        IN NVARCHAR2,
    P_SOUR_ID           IN NVARCHAR2,
    P_DEST_ID           IN NVARCHAR2,
    P_PRIORITY_ORDER    IN NUMBER,
    P_TRANSFER_NO       IN NUMBER,
    P_TRAYTYPE_GB       IN NVARCHAR2,
    P_TRSTATUS_GB       IN NVARCHAR2,
    P_JOBFROM_GB        IN NUMBER,
    P_JOBTYPE_GB        IN NVARCHAR2,
    P_ASSIGNRM_NM       IN NVARCHAR2,
    P_JOBSTEP_NM        IN NUMBER,
    P_SUBJOBTYPE_NM     IN NUMBER,
    P_LOTLIST_ID        IN NVARCHAR2,
    P_DEL               IN CHAR,
    P_SOURZONE_NM       IN NVARCHAR2,
    P_DESTZONE_NM       IN NVARCHAR2,
    R_RESULT            OUT NVARCHAR2,
    R_TEMP              OUT NVARCHAR2    
)
IS
    V_CNT  NUMBER := 0;
BEGIN
    SELECT COUNT(CMD_ID)
        INTO V_CNT
        FROM TB_JOB_INFO WHERE SCS_CD=P_SCS_CD AND CMD_ID=P_CMD_ID;

    IF V_CNT=0 THEN
        INSERT INTO TB_JOB_INFO (SCS_CD, CREATE_DTTM, CARRIER_ID, SOUR_ID, DEST_ID, PRIORITY_ORDER, TRANSFER_NO, TRAYTYPE_GB, CMD_ID, JOBFROM_GB, TRSTATUS_GB, JOBTYPE_GB, ASSIGNRM_NM, JOBSTEP_NM, SUBJOBTYPE_NM, SOURZONE_NM, DESTZONE_NM, LOTLIST_ID)
            VALUES (P_SCS_CD, P_CREATE_DTTM, P_CARRIER_ID, P_SOUR_ID, P_DEST_ID, P_PRIORITY_ORDER, P_TRANSFER_NO, P_TRAYTYPE_GB, P_CMD_ID, P_JOBFROM_GB, P_TRSTATUS_GB, P_JOBTYPE_GB, P_ASSIGNRM_NM, P_JOBSTEP_NM, P_SUBJOBTYPE_NM, P_SOURZONE_NM, P_DESTZONE_NM, P_LOTLIST_ID);
        R_RESULT := 'JOB_INSERT';
        R_TEMP := P_CMD_ID;
    ELSE
        IF P_DEL='1' THEN
            DELETE FROM TB_JOB_INFO WHERE SCS_CD=P_SCS_CD AND CMD_ID=P_CMD_ID;
            R_RESULT := 'JOB_DELETE';
            R_TEMP := P_CMD_ID;
        ELSE
            UPDATE TB_JOB_INFO SET PRIORITY_ORDER=P_PRIORITY_ORDER, DEST_ID=DEST_ID, TRANSFER_NO=P_TRANSFER_NO, ASSIGNRM_NM=P_ASSIGNRM_NM, JOBSTEP_NM=JOBSTEP_NM, TRSTATUS_GB=P_TRSTATUS_GB, SUBJOBTYPE_NM=P_SUBJOBTYPE_NM,
                SOURZONE_NM=P_SOURZONE_NM, DESTZONE_NM=P_DESTZONE_NM, LOTLIST_ID=P_LOTLIST_ID
                WHERE CMD_ID=P_CMD_ID AND SCS_CD=P_SCS_CD;
            R_RESULT := 'JOB_UPDATE';
            R_TEMP := P_CMD_ID;            
        END IF;
    END IF;

    COMMIT;

    EXCEPTION
    WHEN OTHERS THEN
    BEGIN
        R_RESULT := 'NO_JOB';  
        R_TEMP := 'EXCEPTION';
        ROLLBACK;
    END;  
END USP_STC_OY_JOB_INFO_SET;


/
--------------------------------------------------------
--  DDL for Procedure USP_STC_PIO_INFO_SET
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "USP_STC_PIO_INFO_SET" 
(
    P_SCS_CD            IN NVARCHAR2,
    P_MODULE_NM         IN NVARCHAR2,
    P_DIRECTION_GB      IN NVARCHAR2,
    P_DATA_VAL          IN NVARCHAR2,
    R_RESULT            OUT NVARCHAR2,
    R_TEMP              OUT NVARCHAR2    
)
IS
    V_CNT  NUMBER := 0;

BEGIN
   SELECT COUNT (TMP_PIO_INFO.MODULE_NM)
     INTO V_CNT
     FROM TB_PIO_INFO TMP_PIO_INFO WHERE TMP_PIO_INFO.SCS_CD = P_SCS_CD AND TMP_PIO_INFO.MODULE_NM = P_MODULE_NM AND TMP_PIO_INFO.DIRECTION_GB = P_DIRECTION_GB;

    IF V_CNT=0 THEN
        INSERT INTO TB_PIO_INFO (SCS_CD, MODULE_NM, DIRECTION_GB, DATA_VAL)
            VALUES (P_SCS_CD, P_MODULE_NM, P_DIRECTION_GB, P_DATA_VAL);
        R_RESULT := 'PIO_INSERT';
        R_TEMP := P_MODULE_NM;    
    ELSE
        UPDATE TB_PIO_INFO 
            SET SCS_CD=P_SCS_CD, MODULE_NM=P_MODULE_NM, DIRECTION_GB=P_DIRECTION_GB, DATA_VAL=P_DATA_VAL 
            WHERE SCS_CD=P_SCS_CD AND MODULE_NM=P_MODULE_NM AND DIRECTION_GB=P_DIRECTION_GB;
        R_RESULT := 'PIO_UPDATE';
        R_TEMP := P_MODULE_NM;        
    END IF;

    COMMIT;

    EXCEPTION
    WHEN OTHERS THEN
    BEGIN
        R_RESULT := 'NO_PIO';  
        R_TEMP := 'EXCEPTION';
        ROLLBACK;
    END; 
END USP_STC_PIO_INFO_SET;


/
--------------------------------------------------------
--  DDL for Procedure USP_STC_SHELF_INFO_SET
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "USP_STC_SHELF_INFO_SET" 
(
    P_SCS_CD            IN NVARCHAR2,
    P_CARRIER_LOC       IN NVARCHAR2,
    P_ZONE_NM           IN NVARCHAR2,
    P_EXIST_GB          IN NUMBER,
    P_CARRIER_ID        IN NVARCHAR2,
    P_USE_STAT          IN CHAR,
    P_SHELFSIZE_GB      IN NUMBER,
    P_STATUS_GB         IN NUMBER,
    P_DEADZONE_STAT     IN CHAR,
    P_INSTALL_DTTM      IN TIMESTAMP,
    P_FLOOR_NM          IN NUMBER,
    P_MEMO_GB           IN NVARCHAR2,
    R_RESULT            OUT NVARCHAR2,
    R_TEMP              OUT NVARCHAR2    
)
IS
    V_CNT  NUMBER := 0;
BEGIN
    SELECT COUNT(CARRIER_LOC)
        INTO V_CNT
        FROM TB_SHELF_INFO WHERE SCS_CD=P_SCS_CD AND CARRIER_LOC=P_CARRIER_LOC;

    IF V_CNT=0 THEN
        INSERT INTO TB_SHELF_INFO(SCS_CD, CARRIER_LOC, ZONE_NM, EXIST_GB,
            CARRIER_ID, USE_STAT, SHELFSIZE_GB, STATUS_GB, DEADZONE_STAT, INSTALL_DTTM, FLOOR_NM, MEMO_GB) 
            VALUES (P_SCS_CD, P_CARRIER_LOC, P_ZONE_NM, P_EXIST_GB, P_CARRIER_ID, P_USE_STAT, P_SHELFSIZE_GB, P_STATUS_GB, P_DEADZONE_STAT, P_INSTALL_DTTM, P_FLOOR_NM, P_MEMO_GB);

        R_TEMP := 'SHELF_INSERT';
        R_RESULT := P_CARRIER_LOC;            
        /*INSERT INTO TB_SHELF_INFO(SCS_CD, CARRIER_LOC, ZONE_NM, EXIST_GB,
            CARRIER_ID, USE_STAT, SHELFSIZE_GB, STATUS_GB, DEADZONE_STAT) 
            VALUES (P_SCS_CD, P_CARRIER_LOC, P_ZONE_NM, P_EXIST_GB, P_CARRIER_ID, P_USE_STAT, P_SHELFSIZE_GB, P_STATUS_GB, P_DEADZONE_STAT);*/
    ELSE
        UPDATE TB_SHELF_INFO SET EXIST_GB=P_EXIST_GB,
            CARRIER_ID=P_CARRIER_ID, USE_STAT=P_USE_STAT, SHELFSIZE_GB=P_SHELFSIZE_GB, STATUS_GB=P_STATUS_GB, INSTALL_DTTM=P_INSTALL_DTTM, DEADZONE_STAT=P_DEADZONE_STAT, MEMO_GB=P_MEMO_GB
            WHERE SCS_CD=P_SCS_CD AND CARRIER_LOC=P_CARRIER_LOC;

        R_TEMP := 'SHELF_UPDATE';
        R_RESULT := P_CARRIER_LOC;            
        /*UPDATE TB_SHELF_INFO SET EXIST_GB=P_EXIST_GB,
            CARRIER_ID=P_CARRIER_ID, USE_STAT=P_USE_STAT, SHELFSIZE_GB=P_SHELFSIZE_GB, STATUS_GB=P_STATUS_GB
            WHERE SCS_CD=P_SCS_CD AND CARRIER_LOC=P_CARRIER_LOC;*/

    END IF;

    COMMIT;

    EXCEPTION
        WHEN OTHERS THEN
        BEGIN
            R_RESULT := 'SHELF_NO_LOC';  
            R_TEMP := 'EXCEPTION';
            ROLLBACK;
        END;      
END USP_STC_SHELF_INFO_SET;


/
--------------------------------------------------------
--  DDL for Procedure USP_STC_TERMINAL_MSG_SET
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "USP_STC_TERMINAL_MSG_SET" 
(
    P_SCS_CD            IN NVARCHAR2,
    P_TID_ID            IN NVARCHAR2,
    P_TCODE_CD          IN NVARCHAR2,
    P_TEXT_NM           IN NVARCHAR2,
    P_EVENTTIME_DTTM    IN NVARCHAR2
)
IS

BEGIN
    INSERT INTO TB_HIST_TERMINAL_MSG (SCS_CD, TID_ID, TCODE_CD, TEXT_NM, EVENTTIME_DTTM)
        VALUES (P_SCS_CD, P_TID_ID, P_TCODE_CD, P_TEXT_NM, P_EVENTTIME_DTTM);

    COMMIT;
END USP_STC_TERMINAL_MSG_SET;


/
--------------------------------------------------------
--  DDL for Procedure USP_STC_USER_INFO_SET
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "USP_STC_USER_INFO_SET" 
(
    P_SCS_CD        IN NVARCHAR2,
    P_USER_ID       IN NVARCHAR2,
    P_PASSWORD_GB   IN NVARCHAR2,
    P_GROUP_GB      IN NUMBER,
    P_USER_STAT     IN CHAR,
    P_USING_DTTM    IN NUMBER,
    P_DEL           IN CHAR,
    R_RESULT            OUT NVARCHAR2,
    R_TEMP              OUT NVARCHAR2    
)
IS
    V_CNT  NUMBER := 0;
BEGIN
    SELECT COUNT(USER_ID)
        INTO V_CNT
        FROM TB_USER_INFO WHERE SCS_CD=P_SCS_CD AND USER_ID=P_USER_ID;

    IF V_CNT=0 THEN
        INSERT INTO TB_USER_INFO (SCS_CD, USER_ID, PASSWORD_GB, GROUP_GB, USE_STAT, USING_DTTM) 
            VALUES (P_SCS_CD, P_USER_ID, P_PASSWORD_GB, P_GROUP_GB, P_USER_STAT, P_USING_DTTM);
        R_RESULT := 'USER_INSERT';  
        R_TEMP := P_USER_ID;    
    ELSE
        IF P_DEL='1' THEN
            DELETE FROM TB_USER_INFO WHERE SCS_CD=P_SCS_CD AND USER_ID=P_USER_ID;
            R_RESULT := 'USER_DELETE';  
            R_TEMP := P_USER_ID;
        ELSE
            UPDATE TB_USER_INFO SET PASSWORD_GB=P_PASSWORD_GB, GROUP_GB=P_GROUP_GB, USE_STAT=P_USER_STAT, USING_DTTM=P_USING_DTTM WHERE USER_ID=P_USER_ID;
            R_RESULT := 'USER_UPDATE';  
            R_TEMP := P_USER_ID;        
        END IF;
    END IF;

    COMMIT;

    EXCEPTION
        WHEN OTHERS THEN
        BEGIN
            R_RESULT := 'NO_USER';  
            R_TEMP := 'EXCEPTION';
            ROLLBACK;
        END;       
END USP_STC_USER_INFO_SET;


/
--------------------------------------------------------
--  DDL for Function UFN_STC_ALARM_INFO_GET
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE FUNCTION "UFN_STC_ALARM_INFO_GET" 
    RETURN SYS_REFCURSOR 
IS
    TMP_DATA SYS_REFCURSOR;
BEGIN
    OPEN TMP_DATA FOR
    SELECT TMP_ALARM_INFO.ALARM_ID, TMP_ALARM_INFO.ALARM_NM, TMP_ALARM_INFO.LIGHTALARM_GB, 
        TMP_ALARM_INFO.MODULE_NM, TMP_ALARM_INFO.DESC_NM_KOR, TMP_ALARM_INFO.SOLUTION_NM_KOR,
        TMP_ALARM_INFO.DESC_NM_ENG, TMP_ALARM_INFO.SOLUTION_NM_ENG, TMP_ALARM_INFO.DESC_NM_CHN, TMP_ALARM_INFO.SOLUTION_NM_CHN,
        TMP_ALARM_INFO.DESC_NM_HUN, TMP_ALARM_INFO.SOLUTION_NM_HUN
        FROM TB_ALARM_INFO TMP_ALARM_INFO ORDER BY TMP_ALARM_INFO.ALARM_ID ASC;
    RETURN TMP_DATA;
    CLOSE TMP_DATA;
END UFN_STC_ALARM_INFO_GET;


/
--------------------------------------------------------
--  DDL for Function UFN_STC_CARRIER_INFO_GET
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE FUNCTION "UFN_STC_CARRIER_INFO_GET" 
(
    P_SCS_CD    IN NVARCHAR2
)
    RETURN SYS_REFCURSOR
IS
    TMP_DATA SYS_REFCURSOR;
BEGIN
    OPEN TMP_DATA FOR
    SELECT TMP_CARRIER_INFO.CARRIER_ID, TMP_CARRIER_INFO.CARRIER_LOC, TMP_CARRIER_INFO.PRODUCT_STAT, TMP_CARRIER_INFO.POLARITY_STAT, 
        TMP_CARRIER_INFO.WINDERDIR_STAT, TMP_CARRIER_INFO.PRODUCT_CNT, TMP_CARRIER_INFO.FINALLOC_NO, TMP_CARRIER_INFO.INNERTYPE_GB, 
        TMP_CARRIER_INFO.PALLET_GB, TMP_CARRIER_INFO.TRAYSTACK_CNT, TMP_CARRIER_INFO.TRAYTYPE_STAT, TMP_CARRIER_INFO.UNCOATED_STAT,
        TMP_CARRIER_INFO.CORETYPE_STAT, TMP_CARRIER_INFO.VALIDATION_ID, TMP_CARRIER_INFO.PRODUCTEND_STAT, TMP_CARRIER_INFO.CARRIER_CD, 
        TMP_CARRIER_INFO.CARRIER_GB, TMP_CARRIER_INFO.CARRIER_STAT, TMP_CARRIER_INFO.LOT_ID, TMP_CARRIER_INFO.FIRSTLOT_ID,
        TMP_CARRIER_INFO.SECONDLOT_ID, TMP_CARRIER_INFO.THIRDLOT_ID, TMP_CARRIER_INFO.FOURTHLOT_ID, TMP_CARRIER_INFO.FIFTHLOT_ID, 
        TMP_CARRIER_INFO.SIXTHLOT_ID, TMP_CARRIER_INFO.CARRYIN_DTTM, TMP_CARRIER_INFO.CARRYOUT_DTTM, TMP_CARRIER_INFO.CARRIERID_STAT,
        TMP_CARRIER_INFO.CARRIERHEIGHT_STAT
        FROM TB_CARRIER_INFO TMP_CARRIER_INFO WHERE TMP_CARRIER_INFO.SCS_CD=P_SCS_CD;

    RETURN TMP_DATA;
    CLOSE TMP_DATA;

END UFN_STC_CARRIER_INFO_GET;


/
--------------------------------------------------------
--  DDL for Function UFN_STC_CLIENT_ORDER_GET
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE FUNCTION "UFN_STC_CLIENT_ORDER_GET" 
(
    P_SCS_CD        IN NVARCHAR2,
    P_REQUESTER_GB  IN CHAR,
    P_CLIENT_CD     IN NVARCHAR2
)
    RETURN SYS_REFCURSOR
IS
    TMP_DATA SYS_REFCURSOR;
BEGIN
    IF P_CLIENT_CD IS NULL THEN
        OPEN TMP_DATA FOR
        SELECT TMP_CLIENT_ORDER.CMD_GB, TMP_CLIENT_ORDER.TARGET_CD, TMP_CLIENT_ORDER.TARGET_ID, 
            TMP_CLIENT_ORDER.TARGET_VALUE, TMP_CLIENT_ORDER.CREATE_DTTM, TMP_CLIENT_ORDER.REQUESTER_GB,
            TMP_CLIENT_ORDER.JOB_ID, TMP_CLIENT_ORDER.SCS_CD, TMP_CLIENT_ORDER.CLIENT_CD
            FROM TB_CLIENT_ORDER TMP_CLIENT_ORDER 
            WHERE TMP_CLIENT_ORDER.SCS_CD=P_SCS_CD AND TMP_CLIENT_ORDER.REQUESTER_GB=P_REQUESTER_GB 
            ORDER BY TMP_CLIENT_ORDER.CREATE_DTTM ASC;
        RETURN TMP_DATA;
        CLOSE TMP_DATA;
    ELSE
        OPEN TMP_DATA FOR
        SELECT TMP_CLIENT_ORDER.CMD_GB, TMP_CLIENT_ORDER.TARGET_CD, TMP_CLIENT_ORDER.TARGET_ID, 
            TMP_CLIENT_ORDER.TARGET_VALUE, TMP_CLIENT_ORDER.CREATE_DTTM, TMP_CLIENT_ORDER.REQUESTER_GB,
            TMP_CLIENT_ORDER.JOB_ID, TMP_CLIENT_ORDER.SCS_CD, TMP_CLIENT_ORDER.CLIENT_CD
            FROM TB_CLIENT_ORDER TMP_CLIENT_ORDER 
            WHERE TMP_CLIENT_ORDER.SCS_CD=P_SCS_CD AND TMP_CLIENT_ORDER.REQUESTER_GB=P_REQUESTER_GB AND TMP_CLIENT_ORDER.CLIENT_CD=P_CLIENT_CD
            ORDER BY TMP_CLIENT_ORDER.CREATE_DTTM ASC;
        RETURN TMP_DATA;
        CLOSE TMP_DATA;    
    END IF;
END UFN_STC_CLIENT_ORDER_GET;

/
--------------------------------------------------------
--  DDL for Function UFN_STC_CONFIG_INFO_GET
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE FUNCTION "UFN_STC_CONFIG_INFO_GET" 
(
    P_SCS_CD        IN NVARCHAR2,
    P_CONFIG_GB     IN NVARCHAR2,
    P_CONFIG_NM     IN NVARCHAR2,
    P_CONFIG_ALL    IN CHAR
)
    RETURN SYS_REFCURSOR
IS
    TMP_DATA SYS_REFCURSOR;
BEGIN
    IF P_CONFIG_NM IS NULL AND P_CONFIG_ALL ='0' AND P_CONFIG_GB IS NOT NULL THEN
        OPEN TMP_DATA FOR
        SELECT TMP_CONFIG_INFO.CONFIG_NM, TMP_CONFIG_INFO.CONFIG_VAL FROM TB_CONFIG_INFO TMP_CONFIG_INFO 
            WHERE TMP_CONFIG_INFO.SCS_CD=P_SCS_CD AND TMP_CONFIG_INFO.CONFIG_GB=P_CONFIG_GB;
    ELSIF P_CONFIG_ALL = '1' THEN
        OPEN TMP_DATA FOR
        SELECT TMP_CONFIG_INFO.CONFIG_NO, TMP_CONFIG_INFO.CONFIG_GB, TMP_CONFIG_INFO.CONFIG_NM, TMP_CONFIG_INFO.CONFIG_VAL, TMP_CONFIG_INFO.CONFIG_DEF, 
            TMP_CONFIG_INFO.CONFIG_DES FROM TB_CONFIG_INFO TMP_CONFIG_INFO 
            WHERE TMP_CONFIG_INFO.SCS_CD=P_SCS_CD AND TMP_CONFIG_INFO.CONFIG_NO > 0 ORDER BY TMP_CONFIG_INFO.CONFIG_NO ASC;
    ELSIF P_CONFIG_NM IS NULL AND P_CONFIG_ALL ='0' AND P_CONFIG_GB IS NULL THEN
        OPEN TMP_DATA FOR
        SELECT COUNT(TMP_CONFIG_INFO.CONFIG_NO) FROM TB_CONFIG_INFO TMP_CONFIG_INFO WHERE TMP_CONFIG_INFO.SCS_CD=P_SCS_CD AND TMP_CONFIG_INFO.CONFIG_NO > 0;
    ELSE
        OPEN TMP_DATA FOR
        SELECT TMP_CONFIG_INFO.CONFIG_VAL, TMP_CONFIG_INFO.CONFIG_NO FROM TB_CONFIG_INFO TMP_CONFIG_INFO 
            WHERE TMP_CONFIG_INFO.SCS_CD=P_SCS_CD AND TMP_CONFIG_INFO.CONFIG_GB=P_CONFIG_GB AND TMP_CONFIG_INFO.CONFIG_NM=P_CONFIG_NM;    
    END IF;

    RETURN TMP_DATA;
    CLOSE TMP_DATA;
END UFN_STC_CONFIG_INFO_GET;


/
--------------------------------------------------------
--  DDL for Function UFN_STC_CONNECT_CLIENT_GET
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE FUNCTION "UFN_STC_CONNECT_CLIENT_GET" 
(
    P_SCS_CD    IN NVARCHAR2
)
    RETURN SYS_REFCURSOR 
IS
    TMP_DATA SYS_REFCURSOR;
BEGIN
    OPEN TMP_DATA FOR
    SELECT TMP_CONNECT_CLIENT_INFO.SCS_CD, TMP_CONNECT_CLIENT_INFO.CLIENT_CD, TMP_CONNECT_CLIENT_INFO.CLIENT_IP
        FROM TB_CONNECT_CLIENT_INFO TMP_CONNECT_CLIENT_INFO WHERE TMP_CONNECT_CLIENT_INFO.SCS_CD=P_SCS_CD;
    RETURN TMP_DATA;
    CLOSE TMP_DATA;
END UFN_STC_CONNECT_CLIENT_GET;

/
--------------------------------------------------------
--  DDL for Function UFN_STC_EQP_INFO_GET
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE FUNCTION "UFN_STC_EQP_INFO_GET" 
(
    P_SCS_CD        IN NVARCHAR2
)
    RETURN SYS_REFCURSOR    
IS
    TMP_DATA SYS_REFCURSOR;
BEGIN
    OPEN TMP_DATA FOR
    SELECT TMP_EQP_INFO.EQP_NM, TMP_EQP_INFO.EQP_ID, TMP_EQP_INFO.EQP_NO, 
        TMP_EQP_INFO.MCS_STAT, TMP_EQP_INFO.SCS_STAT, TMP_EQP_INFO.PLC_STAT, 
        TMP_EQP_INFO.SYSTEM_STAT, TMP_EQP_INFO.IP_NO, 
        TMP_EQP_INFO.DBFIRSTIP_NO, TMP_EQP_INFO.DBFIRSTPORT_NO, TMP_EQP_INFO.DBFIRSTSERVICE_NM,
        TMP_EQP_INFO.DBSECONDIP_NO, TMP_EQP_INFO.DBSECONDPORT_NO, TMP_EQP_INFO.DBSECONDSERVICE_NM,
        TMP_EQP_INFO.DBACCOUNT_NM, TMP_EQP_INFO.DBPASSWORD_GB        
        FROM TB_EQP_INFO TMP_EQP_INFO;
    RETURN TMP_DATA;
    CLOSE TMP_DATA;
END UFN_STC_EQP_INFO_GET;


/
--------------------------------------------------------
--  DDL for Function UFN_STC_FIRE_INFO_GET
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE FUNCTION "UFN_STC_FIRE_INFO_GET" 
(
    P_SCS_CD    IN NVARCHAR2,
    P_RACK_CD   IN NVARCHAR2
)
    RETURN SYS_REFCURSOR   
IS
    TMP_DATA SYS_REFCURSOR;
BEGIN
    OPEN TMP_DATA FOR
    SELECT TMP_FIRE_LOC_EMS.BANK, TMP_FIRE_LOC_EMS.BAY, TMP_FIRE_LOC_EMS.LVL, TMP_FIRE_LOC_EMS.EVENTINFO, TMP_FIRE_LOC_EMS.TEMPERATURE, 
        TMP_FIRE_LOC_EMS.SMOKESENSE, TMP_FIRE_LOC_EMS.WARN_TEMP, TMP_FIRE_LOC_EMS.DANGER_TEMP, TMP_FIRE_LOC_EMS.EVENTTIME
        FROM TB_FIRE_LOC_EMS TMP_FIRE_LOC_EMS WHERE TMP_FIRE_LOC_EMS.RACKTYPE = P_RACK_CD AND TMP_FIRE_LOC_EMS.SCS_CD = P_SCS_CD;
    RETURN TMP_DATA;
    CLOSE TMP_DATA;
END UFN_STC_FIRE_INFO_GET;


/
--------------------------------------------------------
--  DDL for Function UFN_STC_JOB_INFO_GET
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE FUNCTION "UFN_STC_JOB_INFO_GET" 
(
    P_SCS_CD    IN NVARCHAR2
)
    RETURN SYS_REFCURSOR    
IS
    TMP_DATA SYS_REFCURSOR;
BEGIN
    OPEN TMP_DATA FOR
    SELECT TMP_JOB_INFO.SCS_CD, TMP_JOB_INFO.CREATE_DTTM, TMP_JOB_INFO.CARRIER_ID, TMP_JOB_INFO.SOUR_ID, TMP_JOB_INFO.DEST_ID, 
        TMP_JOB_INFO.PRIORITY_ORDER, TMP_JOB_INFO.TRANSFER_NO, TMP_JOB_INFO.TRAYTYPE_GB, TMP_JOB_INFO.CMD_ID,
        TMP_JOB_INFO.JOBFROM_GB, TMP_JOB_INFO.TRSTATUS_GB, TMP_JOB_INFO.JOBTYPE_GB, TMP_JOB_INFO.ASSIGNRM_NM, 
        TMP_JOB_INFO.JOBSTEP_NM, TMP_JOB_INFO.SUBJOBTYPE_NM, TMP_JOB_INFO.SOURZONE_NM, TMP_JOB_INFO.DESTZONE_NM
        FROM TB_JOB_INFO TMP_JOB_INFO WHERE TMP_JOB_INFO.SCS_CD=P_SCS_CD ORDER BY TMP_JOB_INFO.PRIORITY_ORDER ASC;
    RETURN TMP_DATA;
    CLOSE TMP_DATA;
END UFN_STC_JOB_INFO_GET;


/
--------------------------------------------------------
--  DDL for Function UFN_STC_LOG_INFO_GET
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE FUNCTION "UFN_STC_LOG_INFO_GET" 
(
    P_SCS_CD        IN NVARCHAR2,
    P_LOG_NM        IN NVARCHAR2,
    P_START_DTTM    IN NVARCHAR2,
    P_END_DTTM      IN NVARCHAR2,
    P_KEY1          IN NVARCHAR2,       --sysbyte
    P_KEY2          IN NVARCHAR2,       --CEID
    P_KEY3          IN NVARCHAR2        --CarrierID
)
    RETURN SYS_REFCURSOR
IS
    TMP_DATA SYS_REFCURSOR;
BEGIN
    IF P_LOG_NM='HSMS' THEN
        IF (P_KEY1 IS NULL AND P_KEY2 IS NULL AND P_KEY3 IS NULL) THEN
            OPEN TMP_DATA FOR
            SELECT TMP_UNITED_LOG_INFO.SCS_CD, TMP_UNITED_LOG_INFO.LOG_NM, TMP_UNITED_LOG_INFO.RECODE_DTTM, TMP_UNITED_LOG_INFO.COL_1, TMP_UNITED_LOG_INFO.COL_2,
                TMP_UNITED_LOG_INFO.COL_3, TMP_UNITED_LOG_INFO.COL_4, TMP_UNITED_LOG_INFO.COL_5, TMP_UNITED_LOG_INFO.COL_6,
                TMP_UNITED_LOG_INFO.COL_7, TMP_UNITED_LOG_INFO.COL_8, TMP_UNITED_LOG_INFO.COL_9, TMP_UNITED_LOG_INFO.COL_10,
                TMP_UNITED_LOG_INFO.COL_11, TMP_UNITED_LOG_INFO.COL_12, TMP_UNITED_LOG_INFO.COL_13, TMP_UNITED_LOG_INFO.HIST_SECS2
                FROM TB_UNITED_LOG_INFO TMP_UNITED_LOG_INFO 
                WHERE TMP_UNITED_LOG_INFO.RECODE_DTTM BETWEEN P_START_DTTM AND P_END_DTTM AND TMP_UNITED_LOG_INFO.SCS_CD=P_SCS_CD AND TMP_UNITED_LOG_INFO.LOG_NM=P_LOG_NM
                ORDER BY TMP_UNITED_LOG_INFO.RECODE_DTTM DESC;
        ELSIF (P_KEY1 IS NULL AND P_KEY2 IS NULL) THEN
            OPEN TMP_DATA FOR
            SELECT TMP_UNITED_LOG_INFO.SCS_CD, TMP_UNITED_LOG_INFO.LOG_NM, TMP_UNITED_LOG_INFO.RECODE_DTTM, TMP_UNITED_LOG_INFO.COL_1, TMP_UNITED_LOG_INFO.COL_2,
                TMP_UNITED_LOG_INFO.COL_3, TMP_UNITED_LOG_INFO.COL_4, TMP_UNITED_LOG_INFO.COL_5, TMP_UNITED_LOG_INFO.COL_6,
                TMP_UNITED_LOG_INFO.COL_7, TMP_UNITED_LOG_INFO.COL_8, TMP_UNITED_LOG_INFO.COL_9, TMP_UNITED_LOG_INFO.COL_10,
                TMP_UNITED_LOG_INFO.COL_11, TMP_UNITED_LOG_INFO.COL_12, TMP_UNITED_LOG_INFO.COL_13, TMP_UNITED_LOG_INFO.HIST_SECS2
                FROM TB_UNITED_LOG_INFO TMP_UNITED_LOG_INFO 
                WHERE TMP_UNITED_LOG_INFO.RECODE_DTTM BETWEEN P_START_DTTM AND P_END_DTTM AND TMP_UNITED_LOG_INFO.SCS_CD=P_SCS_CD AND TMP_UNITED_LOG_INFO.LOG_NM=P_LOG_NM
                    AND TMP_UNITED_LOG_INFO.COL_10=P_KEY3
                ORDER BY TMP_UNITED_LOG_INFO.RECODE_DTTM DESC;        
        ELSIF (P_KEY2 IS NULL AND P_KEY3 IS NULL) THEN
            OPEN TMP_DATA FOR
            SELECT TMP_UNITED_LOG_INFO.SCS_CD, TMP_UNITED_LOG_INFO.LOG_NM, TMP_UNITED_LOG_INFO.RECODE_DTTM, TMP_UNITED_LOG_INFO.COL_1, TMP_UNITED_LOG_INFO.COL_2,
                TMP_UNITED_LOG_INFO.COL_3, TMP_UNITED_LOG_INFO.COL_4, TMP_UNITED_LOG_INFO.COL_5, TMP_UNITED_LOG_INFO.COL_6,
                TMP_UNITED_LOG_INFO.COL_7, TMP_UNITED_LOG_INFO.COL_8, TMP_UNITED_LOG_INFO.COL_9, TMP_UNITED_LOG_INFO.COL_10,
                TMP_UNITED_LOG_INFO.COL_11, TMP_UNITED_LOG_INFO.COL_12, TMP_UNITED_LOG_INFO.COL_13, TMP_UNITED_LOG_INFO.HIST_SECS2
                FROM TB_UNITED_LOG_INFO TMP_UNITED_LOG_INFO 
                WHERE TMP_UNITED_LOG_INFO.RECODE_DTTM BETWEEN P_START_DTTM AND P_END_DTTM AND TMP_UNITED_LOG_INFO.SCS_CD=P_SCS_CD AND TMP_UNITED_LOG_INFO.LOG_NM=P_LOG_NM
                    AND TMP_UNITED_LOG_INFO.COL_3=P_KEY1
                ORDER BY TMP_UNITED_LOG_INFO.RECODE_DTTM DESC;        
        ELSIF (P_KEY1 IS NULL AND P_KEY3 IS NULL) THEN
            OPEN TMP_DATA FOR
            SELECT TMP_UNITED_LOG_INFO.SCS_CD, TMP_UNITED_LOG_INFO.LOG_NM, TMP_UNITED_LOG_INFO.RECODE_DTTM, TMP_UNITED_LOG_INFO.COL_1, TMP_UNITED_LOG_INFO.COL_2,
                TMP_UNITED_LOG_INFO.COL_3, TMP_UNITED_LOG_INFO.COL_4, TMP_UNITED_LOG_INFO.COL_5, TMP_UNITED_LOG_INFO.COL_6,
                TMP_UNITED_LOG_INFO.COL_7, TMP_UNITED_LOG_INFO.COL_8, TMP_UNITED_LOG_INFO.COL_9, TMP_UNITED_LOG_INFO.COL_10,
                TMP_UNITED_LOG_INFO.COL_11, TMP_UNITED_LOG_INFO.COL_12, TMP_UNITED_LOG_INFO.COL_13, TMP_UNITED_LOG_INFO.HIST_SECS2
                FROM TB_UNITED_LOG_INFO TMP_UNITED_LOG_INFO 
                WHERE TMP_UNITED_LOG_INFO.RECODE_DTTM BETWEEN P_START_DTTM AND P_END_DTTM AND TMP_UNITED_LOG_INFO.SCS_CD=P_SCS_CD AND TMP_UNITED_LOG_INFO.LOG_NM=P_LOG_NM
                    AND TMP_UNITED_LOG_INFO.COL_6=P_KEY2
                ORDER BY TMP_UNITED_LOG_INFO.RECODE_DTTM DESC;
        ELSIF P_KEY1 IS NULL THEN
            OPEN TMP_DATA FOR
            SELECT TMP_UNITED_LOG_INFO.SCS_CD, TMP_UNITED_LOG_INFO.LOG_NM, TMP_UNITED_LOG_INFO.RECODE_DTTM, TMP_UNITED_LOG_INFO.COL_1, TMP_UNITED_LOG_INFO.COL_2,
                TMP_UNITED_LOG_INFO.COL_3, TMP_UNITED_LOG_INFO.COL_4, TMP_UNITED_LOG_INFO.COL_5, TMP_UNITED_LOG_INFO.COL_6,
                TMP_UNITED_LOG_INFO.COL_7, TMP_UNITED_LOG_INFO.COL_8, TMP_UNITED_LOG_INFO.COL_9, TMP_UNITED_LOG_INFO.COL_10,
                TMP_UNITED_LOG_INFO.COL_11, TMP_UNITED_LOG_INFO.COL_12, TMP_UNITED_LOG_INFO.COL_13, TMP_UNITED_LOG_INFO.HIST_SECS2
                FROM TB_UNITED_LOG_INFO TMP_UNITED_LOG_INFO 
                WHERE TMP_UNITED_LOG_INFO.RECODE_DTTM BETWEEN P_START_DTTM AND P_END_DTTM AND TMP_UNITED_LOG_INFO.SCS_CD=P_SCS_CD AND TMP_UNITED_LOG_INFO.LOG_NM=P_LOG_NM
                    AND TMP_UNITED_LOG_INFO.COL_6=P_KEY2 AND TMP_UNITED_LOG_INFO.COL_10=P_KEY3 
                ORDER BY TMP_UNITED_LOG_INFO.RECODE_DTTM DESC;        
        ELSIF P_KEY2 IS NULL THEN
            OPEN TMP_DATA FOR
            SELECT TMP_UNITED_LOG_INFO.SCS_CD, TMP_UNITED_LOG_INFO.LOG_NM, TMP_UNITED_LOG_INFO.RECODE_DTTM, TMP_UNITED_LOG_INFO.COL_1, TMP_UNITED_LOG_INFO.COL_2,
                TMP_UNITED_LOG_INFO.COL_3, TMP_UNITED_LOG_INFO.COL_4, TMP_UNITED_LOG_INFO.COL_5, TMP_UNITED_LOG_INFO.COL_6,
                TMP_UNITED_LOG_INFO.COL_7, TMP_UNITED_LOG_INFO.COL_8, TMP_UNITED_LOG_INFO.COL_9, TMP_UNITED_LOG_INFO.COL_10,
                TMP_UNITED_LOG_INFO.COL_11, TMP_UNITED_LOG_INFO.COL_12, TMP_UNITED_LOG_INFO.COL_13, TMP_UNITED_LOG_INFO.HIST_SECS2
                FROM TB_UNITED_LOG_INFO TMP_UNITED_LOG_INFO 
                WHERE TMP_UNITED_LOG_INFO.RECODE_DTTM BETWEEN P_START_DTTM AND P_END_DTTM AND TMP_UNITED_LOG_INFO.SCS_CD=P_SCS_CD AND TMP_UNITED_LOG_INFO.LOG_NM=P_LOG_NM
                    AND TMP_UNITED_LOG_INFO.COL_3=P_KEY1 AND TMP_UNITED_LOG_INFO.COL_10=P_KEY3 
                ORDER BY TMP_UNITED_LOG_INFO.RECODE_DTTM DESC;                
        ELSIF P_KEY3 IS NULL THEN
            OPEN TMP_DATA FOR
            SELECT TMP_UNITED_LOG_INFO.SCS_CD, TMP_UNITED_LOG_INFO.LOG_NM, TMP_UNITED_LOG_INFO.RECODE_DTTM, TMP_UNITED_LOG_INFO.COL_1, TMP_UNITED_LOG_INFO.COL_2,
                TMP_UNITED_LOG_INFO.COL_3, TMP_UNITED_LOG_INFO.COL_4, TMP_UNITED_LOG_INFO.COL_5, TMP_UNITED_LOG_INFO.COL_6,
                TMP_UNITED_LOG_INFO.COL_7, TMP_UNITED_LOG_INFO.COL_8, TMP_UNITED_LOG_INFO.COL_9, TMP_UNITED_LOG_INFO.COL_10,
                TMP_UNITED_LOG_INFO.COL_11, TMP_UNITED_LOG_INFO.COL_12, TMP_UNITED_LOG_INFO.COL_13, TMP_UNITED_LOG_INFO.HIST_SECS2
                FROM TB_UNITED_LOG_INFO TMP_UNITED_LOG_INFO 
                WHERE TMP_UNITED_LOG_INFO.RECODE_DTTM BETWEEN P_START_DTTM AND P_END_DTTM AND TMP_UNITED_LOG_INFO.SCS_CD=P_SCS_CD AND TMP_UNITED_LOG_INFO.LOG_NM=P_LOG_NM
                    AND TMP_UNITED_LOG_INFO.COL_3=P_KEY1 AND TMP_UNITED_LOG_INFO.COL_6=P_KEY2 
                ORDER BY TMP_UNITED_LOG_INFO.RECODE_DTTM DESC;
        ELSE
            OPEN TMP_DATA FOR
            SELECT TMP_UNITED_LOG_INFO.SCS_CD, TMP_UNITED_LOG_INFO.LOG_NM, TMP_UNITED_LOG_INFO.RECODE_DTTM, TMP_UNITED_LOG_INFO.COL_1, TMP_UNITED_LOG_INFO.COL_2,
                TMP_UNITED_LOG_INFO.COL_3, TMP_UNITED_LOG_INFO.COL_4, TMP_UNITED_LOG_INFO.COL_5, TMP_UNITED_LOG_INFO.COL_6,
                TMP_UNITED_LOG_INFO.COL_7, TMP_UNITED_LOG_INFO.COL_8, TMP_UNITED_LOG_INFO.COL_9, TMP_UNITED_LOG_INFO.COL_10,
                TMP_UNITED_LOG_INFO.COL_11, TMP_UNITED_LOG_INFO.COL_12, TMP_UNITED_LOG_INFO.COL_13, TMP_UNITED_LOG_INFO.HIST_SECS2
                FROM TB_UNITED_LOG_INFO TMP_UNITED_LOG_INFO 
                WHERE TMP_UNITED_LOG_INFO.RECODE_DTTM BETWEEN P_START_DTTM AND P_END_DTTM AND TMP_UNITED_LOG_INFO.SCS_CD=P_SCS_CD AND TMP_UNITED_LOG_INFO.LOG_NM=P_LOG_NM
                    AND TMP_UNITED_LOG_INFO.COL_3=P_KEY1 AND TMP_UNITED_LOG_INFO.COL_6=P_KEY2 AND TMP_UNITED_LOG_INFO.COL_10=P_KEY3
                ORDER BY TMP_UNITED_LOG_INFO.RECODE_DTTM DESC;        
        END IF;
    ELSIF P_LOG_NM='BCR' THEN
        IF (P_KEY1 IS NULL AND P_KEY2 IS NULL AND P_KEY3 IS NULL) THEN
            OPEN TMP_DATA FOR
            SELECT TMP_UNITED_LOG_INFO.SCS_CD, TMP_UNITED_LOG_INFO.LOG_NM, TMP_UNITED_LOG_INFO.RECODE_DTTM, TMP_UNITED_LOG_INFO.COL_1, TMP_UNITED_LOG_INFO.COL_2,
                TMP_UNITED_LOG_INFO.COL_3, TMP_UNITED_LOG_INFO.COL_4, TMP_UNITED_LOG_INFO.COL_5, TMP_UNITED_LOG_INFO.COL_6,
                TMP_UNITED_LOG_INFO.COL_7, TMP_UNITED_LOG_INFO.COL_8, TMP_UNITED_LOG_INFO.COL_9, TMP_UNITED_LOG_INFO.COL_10,
                TMP_UNITED_LOG_INFO.COL_11, TMP_UNITED_LOG_INFO.COL_12, TMP_UNITED_LOG_INFO.COL_13, TMP_UNITED_LOG_INFO.HIST_SECS2
                FROM TB_UNITED_LOG_INFO TMP_UNITED_LOG_INFO 
                WHERE TMP_UNITED_LOG_INFO.RECODE_DTTM BETWEEN P_START_DTTM AND P_END_DTTM AND TMP_UNITED_LOG_INFO.SCS_CD=P_SCS_CD AND TMP_UNITED_LOG_INFO.LOG_NM=P_LOG_NM
                ORDER BY TMP_UNITED_LOG_INFO.RECODE_DTTM DESC; 
        ELSIF (P_KEY2 IS NULL AND P_KEY3 IS NULL) THEN
            OPEN TMP_DATA FOR
            SELECT TMP_UNITED_LOG_INFO.SCS_CD, TMP_UNITED_LOG_INFO.LOG_NM, TMP_UNITED_LOG_INFO.RECODE_DTTM, TMP_UNITED_LOG_INFO.COL_1, TMP_UNITED_LOG_INFO.COL_2,
                TMP_UNITED_LOG_INFO.COL_3, TMP_UNITED_LOG_INFO.COL_4, TMP_UNITED_LOG_INFO.COL_5, TMP_UNITED_LOG_INFO.COL_6,
                TMP_UNITED_LOG_INFO.COL_7, TMP_UNITED_LOG_INFO.COL_8, TMP_UNITED_LOG_INFO.COL_9, TMP_UNITED_LOG_INFO.COL_10,
                TMP_UNITED_LOG_INFO.COL_11, TMP_UNITED_LOG_INFO.COL_12, TMP_UNITED_LOG_INFO.COL_13, TMP_UNITED_LOG_INFO.HIST_SECS2
                FROM TB_UNITED_LOG_INFO TMP_UNITED_LOG_INFO 
                WHERE TMP_UNITED_LOG_INFO.RECODE_DTTM BETWEEN P_START_DTTM AND P_END_DTTM AND TMP_UNITED_LOG_INFO.SCS_CD=P_SCS_CD AND TMP_UNITED_LOG_INFO.LOG_NM=P_LOG_NM
                    AND TMP_UNITED_LOG_INFO.COL_1=P_KEY1
                ORDER BY TMP_UNITED_LOG_INFO.RECODE_DTTM DESC;          
        END IF;
    ELSIF P_LOG_NM='TRANSFER' THEN
        IF (P_KEY1 IS NULL AND P_KEY2 IS NULL AND P_KEY3 IS NULL) THEN
            OPEN TMP_DATA FOR
            SELECT TMP_UNITED_LOG_INFO.SCS_CD, TMP_UNITED_LOG_INFO.LOG_NM, TMP_UNITED_LOG_INFO.RECODE_DTTM, TMP_UNITED_LOG_INFO.COL_1, TMP_UNITED_LOG_INFO.COL_2,
                TMP_UNITED_LOG_INFO.COL_3, TMP_UNITED_LOG_INFO.COL_4, TMP_UNITED_LOG_INFO.COL_5, TMP_UNITED_LOG_INFO.COL_6,
                TMP_UNITED_LOG_INFO.COL_7, TMP_UNITED_LOG_INFO.COL_8, TMP_UNITED_LOG_INFO.COL_9, TMP_UNITED_LOG_INFO.COL_10,
                TMP_UNITED_LOG_INFO.COL_11, TMP_UNITED_LOG_INFO.COL_12, TMP_UNITED_LOG_INFO.COL_13, TMP_UNITED_LOG_INFO.HIST_SECS2
                FROM TB_UNITED_LOG_INFO TMP_UNITED_LOG_INFO 
                WHERE TMP_UNITED_LOG_INFO.RECODE_DTTM BETWEEN P_START_DTTM AND P_END_DTTM AND TMP_UNITED_LOG_INFO.SCS_CD=P_SCS_CD AND TMP_UNITED_LOG_INFO.LOG_NM=P_LOG_NM
                ORDER BY TMP_UNITED_LOG_INFO.RECODE_DTTM DESC; 
        ELSIF (P_KEY2 IS NULL AND P_KEY3 IS NULL) THEN
            OPEN TMP_DATA FOR
            SELECT TMP_UNITED_LOG_INFO.SCS_CD, TMP_UNITED_LOG_INFO.LOG_NM, TMP_UNITED_LOG_INFO.RECODE_DTTM, TMP_UNITED_LOG_INFO.COL_1, TMP_UNITED_LOG_INFO.COL_2,
                TMP_UNITED_LOG_INFO.COL_3, TMP_UNITED_LOG_INFO.COL_4, TMP_UNITED_LOG_INFO.COL_5, TMP_UNITED_LOG_INFO.COL_6,
                TMP_UNITED_LOG_INFO.COL_7, TMP_UNITED_LOG_INFO.COL_8, TMP_UNITED_LOG_INFO.COL_9, TMP_UNITED_LOG_INFO.COL_10,
                TMP_UNITED_LOG_INFO.COL_11, TMP_UNITED_LOG_INFO.COL_12, TMP_UNITED_LOG_INFO.COL_13, TMP_UNITED_LOG_INFO.HIST_SECS2
                FROM TB_UNITED_LOG_INFO TMP_UNITED_LOG_INFO 
                WHERE TMP_UNITED_LOG_INFO.RECODE_DTTM BETWEEN P_START_DTTM AND P_END_DTTM AND TMP_UNITED_LOG_INFO.SCS_CD=P_SCS_CD AND TMP_UNITED_LOG_INFO.LOG_NM=P_LOG_NM
                    AND TMP_UNITED_LOG_INFO.COL_5=P_KEY1
                ORDER BY TMP_UNITED_LOG_INFO.RECODE_DTTM DESC;          
        END IF;
    ELSIF P_LOG_NM='OPERATOR' THEN
        IF (P_KEY1 IS NULL AND P_KEY2 IS NULL AND P_KEY3 IS NULL) THEN
            OPEN TMP_DATA FOR
            SELECT TMP_UNITED_LOG_INFO.SCS_CD, TMP_UNITED_LOG_INFO.LOG_NM, TMP_UNITED_LOG_INFO.RECODE_DTTM, TMP_UNITED_LOG_INFO.COL_1, TMP_UNITED_LOG_INFO.COL_2,
                TMP_UNITED_LOG_INFO.COL_3, TMP_UNITED_LOG_INFO.COL_4, TMP_UNITED_LOG_INFO.COL_5, TMP_UNITED_LOG_INFO.COL_6,
                TMP_UNITED_LOG_INFO.COL_7, TMP_UNITED_LOG_INFO.COL_8, TMP_UNITED_LOG_INFO.COL_9, TMP_UNITED_LOG_INFO.COL_10,
                TMP_UNITED_LOG_INFO.COL_11, TMP_UNITED_LOG_INFO.COL_12, TMP_UNITED_LOG_INFO.COL_13, TMP_UNITED_LOG_INFO.HIST_SECS2
                FROM TB_UNITED_LOG_INFO TMP_UNITED_LOG_INFO 
                WHERE TMP_UNITED_LOG_INFO.RECODE_DTTM BETWEEN P_START_DTTM AND P_END_DTTM AND TMP_UNITED_LOG_INFO.SCS_CD=P_SCS_CD AND TMP_UNITED_LOG_INFO.LOG_NM=P_LOG_NM
                ORDER BY TMP_UNITED_LOG_INFO.RECODE_DTTM DESC;
        ELSIF (P_KEY1 IS NULL AND P_KEY2 IS NULL) THEN
            OPEN TMP_DATA FOR
            SELECT TMP_UNITED_LOG_INFO.SCS_CD, TMP_UNITED_LOG_INFO.LOG_NM, TMP_UNITED_LOG_INFO.RECODE_DTTM, TMP_UNITED_LOG_INFO.COL_1, TMP_UNITED_LOG_INFO.COL_2,
                TMP_UNITED_LOG_INFO.COL_3, TMP_UNITED_LOG_INFO.COL_4, TMP_UNITED_LOG_INFO.COL_5, TMP_UNITED_LOG_INFO.COL_6,
                TMP_UNITED_LOG_INFO.COL_7, TMP_UNITED_LOG_INFO.COL_8, TMP_UNITED_LOG_INFO.COL_9, TMP_UNITED_LOG_INFO.COL_10,
                TMP_UNITED_LOG_INFO.COL_11, TMP_UNITED_LOG_INFO.COL_12, TMP_UNITED_LOG_INFO.COL_13, TMP_UNITED_LOG_INFO.HIST_SECS2
                FROM TB_UNITED_LOG_INFO TMP_UNITED_LOG_INFO 
                WHERE TMP_UNITED_LOG_INFO.RECODE_DTTM BETWEEN P_START_DTTM AND P_END_DTTM AND TMP_UNITED_LOG_INFO.SCS_CD=P_SCS_CD AND TMP_UNITED_LOG_INFO.LOG_NM=P_LOG_NM
                    AND TMP_UNITED_LOG_INFO.COL_2=P_KEY3
                ORDER BY TMP_UNITED_LOG_INFO.RECODE_DTTM DESC;        
        ELSIF (P_KEY2 IS NULL AND P_KEY3 IS NULL) THEN
            OPEN TMP_DATA FOR
            SELECT TMP_UNITED_LOG_INFO.SCS_CD, TMP_UNITED_LOG_INFO.LOG_NM, TMP_UNITED_LOG_INFO.RECODE_DTTM, TMP_UNITED_LOG_INFO.COL_1, TMP_UNITED_LOG_INFO.COL_2,
                TMP_UNITED_LOG_INFO.COL_3, TMP_UNITED_LOG_INFO.COL_4, TMP_UNITED_LOG_INFO.COL_5, TMP_UNITED_LOG_INFO.COL_6,
                TMP_UNITED_LOG_INFO.COL_7, TMP_UNITED_LOG_INFO.COL_8, TMP_UNITED_LOG_INFO.COL_9, TMP_UNITED_LOG_INFO.COL_10,
                TMP_UNITED_LOG_INFO.COL_11, TMP_UNITED_LOG_INFO.COL_12, TMP_UNITED_LOG_INFO.COL_13, TMP_UNITED_LOG_INFO.HIST_SECS2
                FROM TB_UNITED_LOG_INFO TMP_UNITED_LOG_INFO 
                WHERE TMP_UNITED_LOG_INFO.RECODE_DTTM BETWEEN P_START_DTTM AND P_END_DTTM AND TMP_UNITED_LOG_INFO.SCS_CD=P_SCS_CD AND TMP_UNITED_LOG_INFO.LOG_NM=P_LOG_NM
                    AND TMP_UNITED_LOG_INFO.COL_4=P_KEY1
                ORDER BY TMP_UNITED_LOG_INFO.RECODE_DTTM DESC;        
        ELSIF (P_KEY1 IS NULL AND P_KEY3 IS NULL) THEN
            OPEN TMP_DATA FOR
            SELECT TMP_UNITED_LOG_INFO.SCS_CD, TMP_UNITED_LOG_INFO.LOG_NM, TMP_UNITED_LOG_INFO.RECODE_DTTM, TMP_UNITED_LOG_INFO.COL_1, TMP_UNITED_LOG_INFO.COL_2,
                TMP_UNITED_LOG_INFO.COL_3, TMP_UNITED_LOG_INFO.COL_4, TMP_UNITED_LOG_INFO.COL_5, TMP_UNITED_LOG_INFO.COL_6,
                TMP_UNITED_LOG_INFO.COL_7, TMP_UNITED_LOG_INFO.COL_8, TMP_UNITED_LOG_INFO.COL_9, TMP_UNITED_LOG_INFO.COL_10,
                TMP_UNITED_LOG_INFO.COL_11, TMP_UNITED_LOG_INFO.COL_12, TMP_UNITED_LOG_INFO.COL_13, TMP_UNITED_LOG_INFO.HIST_SECS2
                FROM TB_UNITED_LOG_INFO TMP_UNITED_LOG_INFO 
                WHERE TMP_UNITED_LOG_INFO.RECODE_DTTM BETWEEN P_START_DTTM AND P_END_DTTM AND TMP_UNITED_LOG_INFO.SCS_CD=P_SCS_CD AND TMP_UNITED_LOG_INFO.LOG_NM=P_LOG_NM
                    AND TMP_UNITED_LOG_INFO.COL_7=P_KEY2
                ORDER BY TMP_UNITED_LOG_INFO.RECODE_DTTM DESC;
        ELSIF P_KEY1 IS NULL THEN
            OPEN TMP_DATA FOR
            SELECT TMP_UNITED_LOG_INFO.SCS_CD, TMP_UNITED_LOG_INFO.LOG_NM, TMP_UNITED_LOG_INFO.RECODE_DTTM, TMP_UNITED_LOG_INFO.COL_1, TMP_UNITED_LOG_INFO.COL_2,
                TMP_UNITED_LOG_INFO.COL_3, TMP_UNITED_LOG_INFO.COL_4, TMP_UNITED_LOG_INFO.COL_5, TMP_UNITED_LOG_INFO.COL_6,
                TMP_UNITED_LOG_INFO.COL_7, TMP_UNITED_LOG_INFO.COL_8, TMP_UNITED_LOG_INFO.COL_9, TMP_UNITED_LOG_INFO.COL_10,
                TMP_UNITED_LOG_INFO.COL_11, TMP_UNITED_LOG_INFO.COL_12, TMP_UNITED_LOG_INFO.COL_13, TMP_UNITED_LOG_INFO.HIST_SECS2
                FROM TB_UNITED_LOG_INFO TMP_UNITED_LOG_INFO 
                WHERE TMP_UNITED_LOG_INFO.RECODE_DTTM BETWEEN P_START_DTTM AND P_END_DTTM AND TMP_UNITED_LOG_INFO.SCS_CD=P_SCS_CD AND TMP_UNITED_LOG_INFO.LOG_NM=P_LOG_NM
                    AND TMP_UNITED_LOG_INFO.COL_7=P_KEY2 AND TMP_UNITED_LOG_INFO.COL_2=P_KEY3 
                ORDER BY TMP_UNITED_LOG_INFO.RECODE_DTTM DESC;        
        ELSIF P_KEY2 IS NULL THEN
            OPEN TMP_DATA FOR
            SELECT TMP_UNITED_LOG_INFO.SCS_CD, TMP_UNITED_LOG_INFO.LOG_NM, TMP_UNITED_LOG_INFO.RECODE_DTTM, TMP_UNITED_LOG_INFO.COL_1, TMP_UNITED_LOG_INFO.COL_2,
                TMP_UNITED_LOG_INFO.COL_3, TMP_UNITED_LOG_INFO.COL_4, TMP_UNITED_LOG_INFO.COL_5, TMP_UNITED_LOG_INFO.COL_6,
                TMP_UNITED_LOG_INFO.COL_7, TMP_UNITED_LOG_INFO.COL_8, TMP_UNITED_LOG_INFO.COL_9, TMP_UNITED_LOG_INFO.COL_10,
                TMP_UNITED_LOG_INFO.COL_11, TMP_UNITED_LOG_INFO.COL_12, TMP_UNITED_LOG_INFO.COL_13, TMP_UNITED_LOG_INFO.HIST_SECS2
                FROM TB_UNITED_LOG_INFO TMP_UNITED_LOG_INFO 
                WHERE TMP_UNITED_LOG_INFO.RECODE_DTTM BETWEEN P_START_DTTM AND P_END_DTTM AND TMP_UNITED_LOG_INFO.SCS_CD=P_SCS_CD AND TMP_UNITED_LOG_INFO.LOG_NM=P_LOG_NM
                    AND TMP_UNITED_LOG_INFO.COL_4=P_KEY1 AND TMP_UNITED_LOG_INFO.COL_2=P_KEY3 
                ORDER BY TMP_UNITED_LOG_INFO.RECODE_DTTM DESC;                
        ELSIF P_KEY3 IS NULL THEN
            OPEN TMP_DATA FOR
            SELECT TMP_UNITED_LOG_INFO.SCS_CD, TMP_UNITED_LOG_INFO.LOG_NM, TMP_UNITED_LOG_INFO.RECODE_DTTM, TMP_UNITED_LOG_INFO.COL_1, TMP_UNITED_LOG_INFO.COL_2,
                TMP_UNITED_LOG_INFO.COL_3, TMP_UNITED_LOG_INFO.COL_4, TMP_UNITED_LOG_INFO.COL_5, TMP_UNITED_LOG_INFO.COL_6,
                TMP_UNITED_LOG_INFO.COL_7, TMP_UNITED_LOG_INFO.COL_8, TMP_UNITED_LOG_INFO.COL_9, TMP_UNITED_LOG_INFO.COL_10,
                TMP_UNITED_LOG_INFO.COL_11, TMP_UNITED_LOG_INFO.COL_12, TMP_UNITED_LOG_INFO.COL_13, TMP_UNITED_LOG_INFO.HIST_SECS2
                FROM TB_UNITED_LOG_INFO TMP_UNITED_LOG_INFO 
                WHERE TMP_UNITED_LOG_INFO.RECODE_DTTM BETWEEN P_START_DTTM AND P_END_DTTM AND TMP_UNITED_LOG_INFO.SCS_CD=P_SCS_CD AND TMP_UNITED_LOG_INFO.LOG_NM=P_LOG_NM
                    AND TMP_UNITED_LOG_INFO.COL_4=P_KEY1 AND TMP_UNITED_LOG_INFO.COL_7=P_KEY2 
                ORDER BY TMP_UNITED_LOG_INFO.RECODE_DTTM DESC;
        ELSE
            OPEN TMP_DATA FOR
            SELECT TMP_UNITED_LOG_INFO.SCS_CD, TMP_UNITED_LOG_INFO.LOG_NM, TMP_UNITED_LOG_INFO.RECODE_DTTM, TMP_UNITED_LOG_INFO.COL_1, TMP_UNITED_LOG_INFO.COL_2,
                TMP_UNITED_LOG_INFO.COL_3, TMP_UNITED_LOG_INFO.COL_4, TMP_UNITED_LOG_INFO.COL_5, TMP_UNITED_LOG_INFO.COL_6,
                TMP_UNITED_LOG_INFO.COL_7, TMP_UNITED_LOG_INFO.COL_8, TMP_UNITED_LOG_INFO.COL_9, TMP_UNITED_LOG_INFO.COL_10,
                TMP_UNITED_LOG_INFO.COL_11, TMP_UNITED_LOG_INFO.COL_12, TMP_UNITED_LOG_INFO.COL_13, TMP_UNITED_LOG_INFO.HIST_SECS2
                FROM TB_UNITED_LOG_INFO TMP_UNITED_LOG_INFO 
                WHERE TMP_UNITED_LOG_INFO.RECODE_DTTM BETWEEN P_START_DTTM AND P_END_DTTM AND TMP_UNITED_LOG_INFO.SCS_CD=P_SCS_CD AND TMP_UNITED_LOG_INFO.LOG_NM=P_LOG_NM
                    AND TMP_UNITED_LOG_INFO.COL_4=P_KEY1 AND TMP_UNITED_LOG_INFO.COL_7=P_KEY2 AND TMP_UNITED_LOG_INFO.COL_2=P_KEY3
                ORDER BY TMP_UNITED_LOG_INFO.RECODE_DTTM DESC;        
        END IF;    

    ELSE
        IF (P_KEY1 IS NULL AND P_KEY2 IS NULL AND P_KEY3 IS NULL) THEN
            OPEN TMP_DATA FOR
            SELECT TMP_UNITED_LOG_INFO.SCS_CD, TMP_UNITED_LOG_INFO.LOG_NM, TMP_UNITED_LOG_INFO.RECODE_DTTM, TMP_UNITED_LOG_INFO.COL_1, TMP_UNITED_LOG_INFO.COL_2,
                TMP_UNITED_LOG_INFO.COL_3, TMP_UNITED_LOG_INFO.COL_4, TMP_UNITED_LOG_INFO.COL_5, TMP_UNITED_LOG_INFO.COL_6,
                TMP_UNITED_LOG_INFO.COL_7, TMP_UNITED_LOG_INFO.COL_8, TMP_UNITED_LOG_INFO.COL_9, TMP_UNITED_LOG_INFO.COL_10,
                TMP_UNITED_LOG_INFO.COL_11, TMP_UNITED_LOG_INFO.COL_12, TMP_UNITED_LOG_INFO.COL_13, TMP_UNITED_LOG_INFO.HIST_SECS2
                FROM TB_UNITED_LOG_INFO TMP_UNITED_LOG_INFO
                WHERE TMP_UNITED_LOG_INFO.COL_6 BETWEEN P_START_DTTM AND P_END_DTTM AND TMP_UNITED_LOG_INFO.SCS_CD=P_SCS_CD AND TMP_UNITED_LOG_INFO.LOG_NM=P_LOG_NM
                ORDER BY TMP_UNITED_LOG_INFO.COL_6 DESC;
        ELSIF (P_KEY2 IS NULL AND P_KEY3 IS NULL) THEN
            OPEN TMP_DATA FOR
            SELECT TMP_UNITED_LOG_INFO.SCS_CD, TMP_UNITED_LOG_INFO.LOG_NM, TMP_UNITED_LOG_INFO.RECODE_DTTM, TMP_UNITED_LOG_INFO.COL_1, TMP_UNITED_LOG_INFO.COL_2,
                TMP_UNITED_LOG_INFO.COL_3, TMP_UNITED_LOG_INFO.COL_4, TMP_UNITED_LOG_INFO.COL_5, TMP_UNITED_LOG_INFO.COL_6,
                TMP_UNITED_LOG_INFO.COL_7, TMP_UNITED_LOG_INFO.COL_8, TMP_UNITED_LOG_INFO.COL_9, TMP_UNITED_LOG_INFO.COL_10,
                TMP_UNITED_LOG_INFO.COL_11, TMP_UNITED_LOG_INFO.COL_12, TMP_UNITED_LOG_INFO.COL_13, TMP_UNITED_LOG_INFO.HIST_SECS2
                FROM TB_UNITED_LOG_INFO TMP_UNITED_LOG_INFO
                WHERE TMP_UNITED_LOG_INFO.COL_6 BETWEEN P_START_DTTM AND P_END_DTTM AND TMP_UNITED_LOG_INFO.SCS_CD=P_SCS_CD AND TMP_UNITED_LOG_INFO.LOG_NM=P_LOG_NM
                    AND TMP_UNITED_LOG_INFO.COL_1=P_KEY1
                ORDER BY TMP_UNITED_LOG_INFO.COL_6 DESC;
        ELSIF (P_KEY1 IS NULL AND P_KEY3 IS NULL) THEN
            OPEN TMP_DATA FOR
            SELECT TMP_UNITED_LOG_INFO.SCS_CD, TMP_UNITED_LOG_INFO.LOG_NM, TMP_UNITED_LOG_INFO.RECODE_DTTM, TMP_UNITED_LOG_INFO.COL_1, TMP_UNITED_LOG_INFO.COL_2,
                TMP_UNITED_LOG_INFO.COL_3, TMP_UNITED_LOG_INFO.COL_4, TMP_UNITED_LOG_INFO.COL_5, TMP_UNITED_LOG_INFO.COL_6,
                TMP_UNITED_LOG_INFO.COL_7, TMP_UNITED_LOG_INFO.COL_8, TMP_UNITED_LOG_INFO.COL_9, TMP_UNITED_LOG_INFO.COL_10,
                TMP_UNITED_LOG_INFO.COL_11, TMP_UNITED_LOG_INFO.COL_12, TMP_UNITED_LOG_INFO.COL_13, TMP_UNITED_LOG_INFO.HIST_SECS2
                FROM TB_UNITED_LOG_INFO TMP_UNITED_LOG_INFO
                WHERE TMP_UNITED_LOG_INFO.COL_6 BETWEEN P_START_DTTM AND P_END_DTTM AND TMP_UNITED_LOG_INFO.SCS_CD=P_SCS_CD AND TMP_UNITED_LOG_INFO.LOG_NM=P_LOG_NM
                    AND TMP_UNITED_LOG_INFO.COL_2=P_KEY2
                ORDER BY TMP_UNITED_LOG_INFO.COL_6 DESC;
        ELSIF (P_KEY3 IS NULL) THEN
            OPEN TMP_DATA FOR
            SELECT TMP_UNITED_LOG_INFO.SCS_CD, TMP_UNITED_LOG_INFO.LOG_NM, TMP_UNITED_LOG_INFO.RECODE_DTTM, TMP_UNITED_LOG_INFO.COL_1, TMP_UNITED_LOG_INFO.COL_2,
                TMP_UNITED_LOG_INFO.COL_3, TMP_UNITED_LOG_INFO.COL_4, TMP_UNITED_LOG_INFO.COL_5, TMP_UNITED_LOG_INFO.COL_6,
                TMP_UNITED_LOG_INFO.COL_7, TMP_UNITED_LOG_INFO.COL_8, TMP_UNITED_LOG_INFO.COL_9, TMP_UNITED_LOG_INFO.COL_10,
                TMP_UNITED_LOG_INFO.COL_11, TMP_UNITED_LOG_INFO.COL_12, TMP_UNITED_LOG_INFO.COL_13, TMP_UNITED_LOG_INFO.HIST_SECS2
                FROM TB_UNITED_LOG_INFO TMP_UNITED_LOG_INFO
                WHERE TMP_UNITED_LOG_INFO.COL_6 BETWEEN P_START_DTTM AND P_END_DTTM AND TMP_UNITED_LOG_INFO.SCS_CD=P_SCS_CD AND TMP_UNITED_LOG_INFO.LOG_NM=P_LOG_NM
                    AND TMP_UNITED_LOG_INFO.COL_2=P_KEY2 AND TMP_UNITED_LOG_INFO.COL_1=P_KEY1
                ORDER BY TMP_UNITED_LOG_INFO.COL_6 DESC;
        END IF;
    END IF;

    RETURN TMP_DATA;
    CLOSE TMP_DATA;

END UFN_STC_LOG_INFO_GET;


/
--------------------------------------------------------
--  DDL for Function UFN_STC_OY_JOB_INFO_GET
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE FUNCTION "UFN_STC_OY_JOB_INFO_GET" 
(
    P_SCS_CD    IN NVARCHAR2
)
    RETURN SYS_REFCURSOR    
IS
    TMP_DATA SYS_REFCURSOR;
BEGIN
    OPEN TMP_DATA FOR
    SELECT TMP_JOB_INFO.SCS_CD, TMP_JOB_INFO.CREATE_DTTM, TMP_JOB_INFO.CARRIER_ID, TMP_JOB_INFO.SOUR_ID, TMP_JOB_INFO.DEST_ID, 
        TMP_JOB_INFO.PRIORITY_ORDER, TMP_JOB_INFO.TRANSFER_NO, TMP_JOB_INFO.TRAYTYPE_GB, TMP_JOB_INFO.CMD_ID,
        TMP_JOB_INFO.JOBFROM_GB, TMP_JOB_INFO.TRSTATUS_GB, TMP_JOB_INFO.JOBTYPE_GB, TMP_JOB_INFO.ASSIGNRM_NM, 
        TMP_JOB_INFO.JOBSTEP_NM, TMP_JOB_INFO.SUBJOBTYPE_NM, TMP_JOB_INFO.SOURZONE_NM, TMP_JOB_INFO.DESTZONE_NM, TMP_JOB_INFO.LOTLIST_ID
        FROM TB_JOB_INFO TMP_JOB_INFO WHERE TMP_JOB_INFO.SCS_CD=P_SCS_CD ORDER BY TMP_JOB_INFO.PRIORITY_ORDER ASC;
    RETURN TMP_DATA;
    CLOSE TMP_DATA;
END UFN_STC_OY_JOB_INFO_GET;


/
--------------------------------------------------------
--  DDL for Function UFN_STC_PIO_INFO_GET
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE FUNCTION "UFN_STC_PIO_INFO_GET" 
(
    P_SCS_CD    IN NVARCHAR2
)
    RETURN SYS_REFCURSOR
IS
    TMP_DATA SYS_REFCURSOR;
BEGIN
    OPEN TMP_DATA FOR
    SELECT TMP_PIO_INFO.SCS_CD, TMP_PIO_INFO.MODULE_NM, TMP_PIO_INFO.DIRECTION_GB, TMP_PIO_INFO.DATA_VAL
        FROM TB_PIO_INFO TMP_PIO_INFO WHERE TMP_PIO_INFO.SCS_CD = P_SCS_CD;
    RETURN TMP_DATA;
    CLOSE TMP_DATA;
END UFN_STC_PIO_INFO_GET;


/
--------------------------------------------------------
--  DDL for Function UFN_STC_SHELF_INFO_GET
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE FUNCTION "UFN_STC_SHELF_INFO_GET" 
(
    P_SCS_CD    IN NVARCHAR2,
    P_BANK      IN NVARCHAR2
)
    RETURN SYS_REFCURSOR   
IS
    TMP_DATA SYS_REFCURSOR;
BEGIN
    OPEN TMP_DATA FOR
    SELECT TMP_SHELF_INFO.SCS_CD, TMP_SHELF_INFO.CARRIER_LOC, TMP_SHELF_INFO.ZONE_NM, TMP_SHELF_INFO.EXIST_GB, TMP_SHELF_INFO.CARRIER_ID,
        TMP_SHELF_INFO.USE_STAT, TMP_SHELF_INFO.SHELFSIZE_GB, TMP_SHELF_INFO.STATUS_GB, TMP_SHELF_INFO.DEADZONE_STAT, TMP_SHELF_INFO.INSTALL_DTTM, TMP_SHELF_INFO.FLOOR_NM,
        TMP_SHELF_INFO.MEMO_GB
        FROM TB_SHELF_INFO TMP_SHELF_INFO WHERE TMP_SHELF_INFO.CARRIER_LOC LIKE P_BANK||'%' AND TMP_SHELF_INFO.SCS_CD=P_SCS_CD ORDER BY CARRIER_LOC ASC;
    RETURN TMP_DATA;
    CLOSE TMP_DATA;
END UFN_STC_SHELF_INFO_GET;


/
--------------------------------------------------------
--  DDL for Function UFN_STC_TERMINAL_MSG_GET
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE FUNCTION "UFN_STC_TERMINAL_MSG_GET" 
(
    P_SCS_CD        IN NVARCHAR2
)
    RETURN SYS_REFCURSOR
IS
    TMP_DATA SYS_REFCURSOR;
BEGIN
    OPEN TMP_DATA FOR
    SELECT TMP_TB_HIST_TERMINAL_MSG.SCS_CD, TMP_TB_HIST_TERMINAL_MSG.TID_ID, TMP_TB_HIST_TERMINAL_MSG.TCODE_CD,
        TMP_TB_HIST_TERMINAL_MSG.TEXT_NM, TMP_TB_HIST_TERMINAL_MSG.EVENTTIME_DTTM
        FROM TB_HIST_TERMINAL_MSG TMP_TB_HIST_TERMINAL_MSG
        WHERE TMP_TB_HIST_TERMINAL_MSG.SCS_CD=P_SCS_CD 
        ORDER BY TMP_TB_HIST_TERMINAL_MSG.EVENTTIME_DTTM DESC;

    RETURN TMP_DATA;
    CLOSE TMP_DATA;
END UFN_STC_TERMINAL_MSG_GET;


/
--------------------------------------------------------
--  DDL for Function UFN_STC_USER_INFO_GET
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE FUNCTION "UFN_STC_USER_INFO_GET" 
(
    P_SCS_CD    IN NVARCHAR2
)
    RETURN SYS_REFCURSOR
IS
    TMP_DATA SYS_REFCURSOR;
BEGIN
    OPEN TMP_DATA FOR
    SELECT TMP_USER_INFO.USER_ID, TMP_USER_INFO.PASSWORD_GB, TMP_USER_INFO.GROUP_GB, TMP_USER_INFO.USE_STAT, TMP_USER_INFO.USING_DTTM 
        FROM TB_USER_INFO TMP_USER_INFO WHERE TMP_USER_INFO.SCS_CD=P_SCS_CD;
    RETURN TMP_DATA;
    CLOSE TMP_DATA;
END UFN_STC_USER_INFO_GET;


/

